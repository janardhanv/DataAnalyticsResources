
<!DOCTYPE html>
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en" prefix="og: http://ogp.me/ns#" class="no-js">
<!--<![endif]-->
<head>
	<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
	    <meta name="theme-color" content="#1ebbf0"/>	<link rel="profile" href="http://gmpg.org/xfn/11" />
	<link rel="pingback" href="https://www.analyticsinhr.com/xmlrpc.php" />
            <script type="text/javascript">
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                var originalAddEventListener = EventTarget.prototype.addEventListener,
                    oldWidth = window.innerWidth;

                EventTarget.prototype.addEventListener = function (eventName, eventHandler, useCapture) {
                    if (eventName === "resize") {
                        originalAddEventListener.call(this, eventName, function (event) {
                            if (oldWidth === window.innerWidth) {
                                return;
                            }
                            else if (oldWidth !== window.innerWidth) {
                                oldWidth = window.innerWidth;
                            }
                            if (eventHandler.handleEvent) {
                                eventHandler.handleEvent.call(this, event);
                            }
                            else {
                                eventHandler.call(this, event);
                            };
                        }, useCapture);
                    }
                    else {
                        originalAddEventListener.call(this, eventName, eventHandler, useCapture);
                    };
                };
            };
        </script>
		<title>Employee Churn: A Tutorial on People Analytics Using R | Analytics in HR</title>
                        <script>
                            /* You can add more configuration options to webfontloader by previously defining the WebFontConfig with your options */
                            if ( typeof WebFontConfig === "undefined" ) {
                                WebFontConfig = new Object();
                            }
                            WebFontConfig['google'] = {families: ['Roboto:400']};

                            (function() {
                                var wf = document.createElement( 'script' );
                                wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js';
                                wf.type = 'text/javascript';
                                wf.async = 'true';
                                var s = document.getElementsByTagName( 'script' )[0];
                                s.parentNode.insertBefore( wf, s );
                            })();
                        </script>
                        
<!-- This site is optimized with the Yoast SEO plugin v7.8 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="This step-by-step HR analytics tutorial demonstrates how employee churn analytics can be applied in R to predict which employees are most likely to quit. In this article, we use descriptive analytics to understand the data and patterns, and then use decision trees and random forests algorithms to predict future churn."/>
<link rel="canonical" href="https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Employee Churn: A Tutorial on People Analytics Using R | Analytics in HR" />
<meta property="og:description" content="This step-by-step HR analytics tutorial demonstrates how employee churn analytics can be applied in R to predict which employees are most likely to quit. In this article, we use descriptive analytics to understand the data and patterns, and then use decision trees and random forests algorithms to predict future churn." />
<meta property="og:url" content="https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn/" />
<meta property="og:site_name" content="Analytics in HR" />
<meta property="article:publisher" content="https://www.facebook.com/analyticsinhr/" />
<meta property="article:tag" content="human resources analytics" />
<meta property="article:tag" content="People Analytics" />
<meta property="article:tag" content="Tutorial" />
<meta property="article:section" content="HR Analytics" />
<meta property="article:published_time" content="2016-09-05T11:00:25+00:00" />
<meta property="article:modified_time" content="2018-12-13T19:09:23+00:00" />
<meta property="og:updated_time" content="2018-12-13T19:09:23+00:00" />
<meta property="og:image" content="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/HRanalytics-Tutorial-R-Emplopyee-Churn.jpg" />
<meta property="og:image:secure_url" content="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/HRanalytics-Tutorial-R-Emplopyee-Churn.jpg" />
<meta property="og:image:width" content="1100" />
<meta property="og:image:height" content="733" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="This step-by-step HR analytics tutorial demonstrates how employee churn analytics can be applied in R to predict which employees are most likely to quit. In this article, we use descriptive analytics to understand the data and patterns, and then use decision trees and random forests algorithms to predict future churn." />
<meta name="twitter:title" content="Employee Churn: A Tutorial on People Analytics Using R | Analytics in HR" />
<meta name="twitter:site" content="@analyticsinhr" />
<meta name="twitter:image" content="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/HRanalytics-Tutorial-R-Emplopyee-Churn.jpg" />
<meta name="twitter:creator" content="@lvsund" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Analytics in HR &raquo; Feed" href="https://www.analyticsinhr.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Analytics in HR &raquo; Comments Feed" href="https://www.analyticsinhr.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Analytics in HR &raquo; A Tutorial on People Analytics Using R &#8211; Employee Churn Comments Feed" href="https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.analyticsinhr.com\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/contact-form-7/includes/css/styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='wtr-css-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/worth-the-read/css/wtr.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-web-fonts-css'  href='//fonts.googleapis.com/css?family=Roboto%3A300%2C400%2C500%2C600%2C700%7CRoboto+Condensed%3A400%2C600%2C700&#038;' type='text/css' media='all' />
<link rel='stylesheet' id='dt-main-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/css/main.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-awsome-fonts-back-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/fonts/FontAwesome/back-compat.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-awsome-fonts-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/fonts/FontAwesome/css/fontawesome-all.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-fontello-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/fonts/fontello/css/fontello.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='the7pt-static-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/css/post-type.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-custom-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/the7-css/custom.css' type='text/css' media='all' />
<link rel='stylesheet' id='dt-media-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/the7-css/media.css' type='text/css' media='all' />
<link rel='stylesheet' id='the7pt.less-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/the7-css/post-type-dynamic.css' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7-child/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='bsf-Defaults-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/smile_fonts/Defaults/Defaults.css' type='text/css' media='all' />
<script type='text/javascript' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var dtLocal = {"themeUrl":"https:\/\/www.analyticsinhr.com\/wp-content\/themes\/dt-the7","passText":"To view this protected post, enter the password below:","moreButtonText":{"loading":"Loading...","loadMore":"Load more"},"postID":"5698","ajaxurl":"https:\/\/www.analyticsinhr.com\/wp-admin\/admin-ajax.php","contactMessages":{"required":"One or more fields have an error. Please check and try again.","terms":"Please accept the privacy policy."},"ajaxNonce":"28a98cc696","pageData":"","themeSettings":{"smoothScroll":"off","lazyLoading":false,"accentColor":{"mode":"solid","color":"#1ebbf0"},"desktopHeader":{"height":100},"floatingHeader":{"showAfter":140,"showMenu":true,"height":90,"logo":{"showLogo":true,"html":"<img class=\" preload-me\" src=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/Logo-AIHR-inversed-white-2018-160px.png\" srcset=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/Logo-AIHR-inversed-white-2018-160px.png 160w\" width=\"80\" height=\"80\"   sizes=\"80px\" alt=\"Analytics in HR\" \/>","url":"https:\/\/www.analyticsinhr.com\/"}},"mobileHeader":{"firstSwitchPoint":1050,"secondSwitchPoint":778,"firstSwitchPointHeight":80,"secondSwitchPointHeight":60},"stickyMobileHeaderFirstSwitch":{"logo":{"html":"<img class=\" preload-me\" src=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/AIHR-Blog-Academy-Logo-2018-160px-1.png\" srcset=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/AIHR-Blog-Academy-Logo-2018-160px-1.png 160w\" width=\"80\" height=\"80\"   sizes=\"80px\" alt=\"Analytics in HR\" \/>"}},"stickyMobileHeaderSecondSwitch":{"logo":{"html":"<img class=\" preload-me\" src=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/Logo-AIHR-inversed-blue-2018-160px.png\" srcset=\"https:\/\/www.analyticsinhr.com\/wp-content\/uploads\/2018\/06\/Logo-AIHR-inversed-blue-2018-160px.png 160w\" width=\"80\" height=\"80\"   sizes=\"80px\" alt=\"Analytics in HR\" \/>"}},"content":{"textColor":"#50585f","headerColor":"#2e3c47"},"stripes":{"stripe1":{"textColor":"#787d85","headerColor":"#3b3f4a"},"stripe2":{"textColor":"#8b9199","headerColor":"#ffffff"},"stripe3":{"textColor":"#ffffff","headerColor":"#ffffff"}}},"VCMobileScreenWidth":"768"};
var dtShare = {"shareButtonText":{"facebook":"Share on Facebook","twitter":"Tweet","pinterest":"Pin it","linkedin":"Share on Linkedin","whatsapp":"Share on Whatsapp","google":"Share on Google Plus","download":"Download image"},"overlayOpacity":"85"};
/* ]]> */
</script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/js/above-the-fold.min.js'></script>
<link rel='https://api.w.org/' href='https://www.analyticsinhr.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.analyticsinhr.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.analyticsinhr.com/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='https://www.analyticsinhr.com/?p=5698' />
<link rel="alternate" type="application/json+oembed" href="https://www.analyticsinhr.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.analyticsinhr.com%2Fblog%2Ftutorial-people-analytics-r-employee-churn%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://www.analyticsinhr.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.analyticsinhr.com%2Fblog%2Ftutorial-people-analytics-r-employee-churn%2F&#038;format=xml" />

<!-- This site is using AdRotate v4.14 Professional to display their advertisements - https://ajdg.solutions/products/adrotate-for-wordpress/ -->
<!-- AdRotate CSS -->
<style type="text/css" media="screen">
	.gaihrba { margin:0px; padding:0px; overflow:hidden; line-height:1; zoom:1; }
	.gaihrba img { height:auto; }
	.gaihrba-col { position:relative; float:left; }
	.gaihrba-col:first-child { margin-left: 0; }
	.gaihrba-col:last-child { margin-right: 0; }
	.gaihrba-1 {  margin: 0 auto; }
	@media only screen and (max-width: 480px) {
		.gaihrba-col, .gaihrba-dyn, .gaihrba-single { width:100%; margin-left:0; margin-right:0; }
	}
</style>
<!-- /AdRotate CSS -->

<style type="text/css">.wtr-time-wrap{ 
	/* wraps the entire label */
	margin: 0 10px;

}
.wtr-time-number{ 
	/* applies only to the number */
	
}</style><meta name="generator" content="Powered by WPBakery Page Builder - drag and drop page builder for WordPress."/>
<!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/js_composer/assets/css/vc_lte_ie9.min.css" media="screen"><![endif]--><link rel="icon" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Favicon-2018-16x16.png" type="image/png" sizes="16x16"/><link rel="icon" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Favicon-2018-32x32.png" type="image/png" sizes="32x32"/><link rel="apple-touch-icon" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-60x60.png"><link rel="apple-touch-icon" sizes="76x76" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-76x76.png"><link rel="apple-touch-icon" sizes="120x120" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-120x120.png"><link rel="apple-touch-icon" sizes="152x152" href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-152x152.png">		<style type="text/css" id="wp-custom-css">
			#footer {
	border-top: 10px solid #1ebbf0;
}


.entry-content strong {
	font-weight: 500;
}

.entry-content p {
	margin-bottom: 30px;
	letter-spacing: 0.2px;
}

.entry-content ol {
	  padding-left: 25px;
    margin-bottom: 30px;
}

.entry-content ul {
	  padding-left: 25px;
    margin-bottom: 30px;
}

.entry-content blockquote {
	  margin: 25px 30px;
}

.entry-content p:first-child {
	font-weight: 500;
}

.entry-content h3 {
	    padding-top: 10px;
	    font-size: 28px;
    color: #1ebbf0 !important;
    letter-spacing: 0.5px;
}


.entry-content h2 {
	  padding-top: 10px;
    color: #1ebbf0 !important;
    letter-spacing: 0.5px;
}



.fancy-title-head.hgroup h1 {
	  font-weight: 500;
    font-size: 45px !important;
    letter-spacing: 1.5px;
		line-height: 50px !important;
}

.author-post__title {
	  font-size: 18px;
    letter-spacing: 1px;
    font-weight: 400;
}

.post-meta.wf-mobile-collapsed {
	display: none !important;
}

.author-bio {
	font-size: 16px;
	line-height: 32px;
	letter-spacing: 0.2px;
}

a#btn-follow-author {
	font-weight: 500;
	letter-spacing: 0.5px;
}

.fancy-categories {
	display: none !important;
}

.fancy-date {
	display: none;
}

.wf-container-absolute {
	padding-top: 30px
}

.join-conversation h4 {
	font-size: 25px;
	line-height: 30px
}

.join-conversation h4 {
	font-size: 25px;
	line-height: 30px
}
h4.join-conversation {
	font-size: 25px;
	line-height: 30px
}

#read-more-tag h4 {
	font-size: 1em ;
	font-weight: 400;
	text-decoration: underline;
}

.menu-text {
	letter-spacing: 0.5px
}


#phantom .menu-text {
	color: #ffffff;
}

#phantom a {
	color: #ffffff !important;
}

.sub-nav .menu-text {
	color: #2e3c47 !important;
}


.aihrbaip p {
	letter-spacing: 1px;
	color: #ffffff;
}

.aihrbaip a {
	letter-spacing: 1px;
	color: #ffffff;
}

.aihrbaip {
	background: #1EBBF0; 
	border-radius: 7px; 
	padding: 35px 25px; 
	margin-bottom: 30px;
}

.aihrbaip-button {
	background: #FB9F00; 
	width: 200px; 
	text-align: center; 
	font-size: 16px; 
	font-weight: 500; 
	border-radius: 5px; 
	padding: 18px; 
	color: #ffffff;
}		</style>
	<style type="text/css" title="dynamic-css" class="options-output">.wtr-time-wrap{font-family:Roboto;line-height:20px;font-weight:400;font-style:normal;color:#b3bcc3;font-size:15px;opacity: 1;visibility: visible;-webkit-transition: opacity 0.24s ease-in-out;-moz-transition: opacity 0.24s ease-in-out;transition: opacity 0.24s ease-in-out;}.wf-loading .wtr-time-wrap,{opacity: 0;}.ie.wf-loading .wtr-time-wrap,{visibility: hidden;}</style><noscript><style type="text/css"> .wpb_animate_when_almost_visible { opacity: 1; }</style></noscript></head>
<body class="post-template-default single single-post postid-5698 single-format-standard the7-core-ver-1.10.0 transparent light-preset-color fancy-header-on disabled-hover-icons dt-responsive-on srcset-enabled btn-flat custom-btn-color custom-btn-hover-color bold-icons phantom-fade phantom-shadow-decoration phantom-custom-logo-on floating-mobile-menu-icon top-header first-switch-logo-left first-switch-menu-right second-switch-logo-left second-switch-menu-right right-mobile-menu layzr-loading-on popup-message-style dt-fa-compatibility the7-ver-6.5.1.1 wpb-js-composer js-comp-ver-5.4.2 vc_responsive">
<!-- The7 6.5.1.1 -->

<div id="page">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

<div class="masthead inline-header left widgets full-height shadow-decoration small-mobile-menu-icon dt-parent-menu-clickable show-mobile-logo" style="background-color: rgba(0,0,0,0);" role="banner">

			<div class="top-bar line-content top-bar-empty top-bar-line-hide">
			<div class="top-bar-bg"  style="background-color: rgba(255,255,255,0.25);"></div>
			<div class="mini-widgets left-widgets"></div>			<div class="mini-widgets right-widgets"></div>		</div>

	<header class="header-bar">

						<div class="branding">
					<div id="site-title" class="assistive-text">Analytics in HR</div>
					<div id="site-description" class="assistive-text">The Leading Blog on HR Analytics</div>
					<a href="https://www.analyticsinhr.com/"><img class=" preload-me" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-Academy-Logo-2018-180px-1.png" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-Academy-Logo-2018-180px-1.png 180w" width="90" height="90"   sizes="90px" alt="Analytics in HR" /><img class="mobile-logo preload-me" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-Academy-Logo-2018-180px-1.png" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-Academy-Logo-2018-180px-1.png 180w" width="90" height="90"   sizes="90px" alt="Analytics in HR" /></a>				</div>
		<ul id="primary-menu" class="main-nav underline-decoration from-centre-line outside-item-remove-margin" role="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-4389 first"><a href='https://www.analyticsinhr.com/' data-level='1'><span class="menu-item-text"><span class="menu-text">Blog</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5646"><a href='/newsletter/' data-level='1'><span class="menu-item-text"><span class="menu-text">Newsletter</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11290"><a href='/community/?utm_source=aihrblog&#038;utm_medium=middle-post&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='1'><span class="menu-item-text"><span class="menu-text">Community</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-10643 has-children"><a href='https://www.analyticsinhr.com/people-analytics-resources-repository/' data-level='1'><span class="menu-item-text"><span class="menu-text">Resources</span></span></a><ul class="sub-nav hover-style-bg level-arrows-on"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7391 first"><a href='https://www.analyticsinhr.com/hr-analytics-webinars/' data-level='2'><span class="menu-item-text"><span class="menu-text">Webinar</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10644"><a href='https://www.analyticsinhr.com/people-analytics-resources-repository/' data-level='2'><span class="menu-item-text"><span class="menu-text">Repository</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11495"><a href='/hr-analytics-books/?utm_source=aihrblog&#038;utm_medium=blog&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='2'><span class="menu-item-text"><span class="menu-text">Book: Basic Principles</span></span></a></li> </ul></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6298 has-children"><a href='https://www.analyticsinhr.com/about-us/' data-level='1'><span class="menu-item-text"><span class="menu-text">About Us</span></span></a><ul class="sub-nav hover-style-bg level-arrows-on"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7392 first"><a href='https://www.analyticsinhr.com/about-us/' data-level='2'><span class="menu-item-text"><span class="menu-text">About Us</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11478"><a href='/about-us/#team' data-level='2'><span class="menu-item-text"><span class="menu-text">Team</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11484"><a href='https://www.analyticsinhr.com/contact/' data-level='2'><span class="menu-item-text"><span class="menu-text">Contact</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4731"><a href='https://www.analyticsinhr.com/write-for-us/' data-level='2'><span class="menu-item-text"><span class="menu-text">Write for Us</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12407"><a href='https://www.hranalyticsacademy.com/careers/' data-level='2'><span class="menu-item-text"><span class="menu-text">Careers</span></span></a></li> </ul></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10052"><a href='https://www.hranalyticsacademy.com/?utm_source=aihrblog&#038;utm_medium=blog&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='1'><i class="fas fa-graduation-cap"></i><span class="menu-item-text"><span class="menu-text">Academy</span></span></a></li> </ul>
		<div class="mini-widgets"><div class="mini-search show-on-desktop near-logo-first-switch near-logo-second-switch">	<form class="searchform" role="search" method="get" action="https://www.analyticsinhr.com/">

	<label for="search" class="screen-reader-text">Search:</label>
		<input type="text" class="field searchform-s" name="s" value="" placeholder="Type and hit enter &hellip;" />
				<input type="submit" class="assistive-text searchsubmit" value="Go!" />
		<a href="#go" id="trigger-overlay" class="submit text-disable">&nbsp;</a>
	</form></div><div class="text-area show-on-desktop near-logo-first-switch in-menu-second-switch"><p><a href="https://academy.analyticsinhr.com/" style="text-decoration: none; color: #2e3c47;" target="_blank">Student login</a></p>
</div></div>
	</header>

</div><div class='dt-close-mobile-menu-icon'><span></span></div>
<div class='dt-mobile-header'>
	<ul id="mobile-menu" class="mobile-main-nav" role="menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-4389 first"><a href='https://www.analyticsinhr.com/' data-level='1'><span class="menu-item-text"><span class="menu-text">Blog</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5646"><a href='/newsletter/' data-level='1'><span class="menu-item-text"><span class="menu-text">Newsletter</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11290"><a href='/community/?utm_source=aihrblog&#038;utm_medium=middle-post&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='1'><span class="menu-item-text"><span class="menu-text">Community</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-10643 has-children"><a href='https://www.analyticsinhr.com/people-analytics-resources-repository/' data-level='1'><span class="menu-item-text"><span class="menu-text">Resources</span></span></a><ul class="sub-nav hover-style-bg level-arrows-on"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7391 first"><a href='https://www.analyticsinhr.com/hr-analytics-webinars/' data-level='2'><span class="menu-item-text"><span class="menu-text">Webinar</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10644"><a href='https://www.analyticsinhr.com/people-analytics-resources-repository/' data-level='2'><span class="menu-item-text"><span class="menu-text">Repository</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11495"><a href='/hr-analytics-books/?utm_source=aihrblog&#038;utm_medium=blog&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='2'><span class="menu-item-text"><span class="menu-text">Book: Basic Principles</span></span></a></li> </ul></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6298 has-children"><a href='https://www.analyticsinhr.com/about-us/' data-level='1'><span class="menu-item-text"><span class="menu-text">About Us</span></span></a><ul class="sub-nav hover-style-bg level-arrows-on"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7392 first"><a href='https://www.analyticsinhr.com/about-us/' data-level='2'><span class="menu-item-text"><span class="menu-text">About Us</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11478"><a href='/about-us/#team' data-level='2'><span class="menu-item-text"><span class="menu-text">Team</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11484"><a href='https://www.analyticsinhr.com/contact/' data-level='2'><span class="menu-item-text"><span class="menu-text">Contact</span></span></a></li> <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4731"><a href='https://www.analyticsinhr.com/write-for-us/' data-level='2'><span class="menu-item-text"><span class="menu-text">Write for Us</span></span></a></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12407"><a href='https://www.hranalyticsacademy.com/careers/' data-level='2'><span class="menu-item-text"><span class="menu-text">Careers</span></span></a></li> </ul></li> <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10052"><a href='https://www.hranalyticsacademy.com/?utm_source=aihrblog&#038;utm_medium=blog&#038;utm_campaign=inbound-blog&#038;utm_content=top-menu' data-level='1'><i class="fas fa-graduation-cap"></i><span class="menu-item-text"><span class="menu-text">Academy</span></span></a></li> 	</ul>
	<div class='mobile-mini-widgets-in-menu'></div>
</div>

	
<header id="fancy-header" class="fancy-header title-center" style="background-color: #222222; background-size: cover; background-repeat: no-repeat; background-image: url(https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/People-Analytics-Tutorial-R-Emplopyee-Churn.jpg); background-position: center center; padding-top: 0px; padding-bottom: 0px" >
			<div class="wf-wrap" style="min-height: 300px;"><div class="fancy-title-head hgroup"><h1 class="fancy-title entry-title" style="color: #ffffff; font-size: 30px; line-height: 36px; text-transform: none;" ><span>A Tutorial on People Analytics Using R &#8211; Employee Churn</span></h1></div><div class="assistive-text">You are here:</div><ol class="breadcrumbs text-small" style="color: #ffffff;" xmlns:v="http://rdf.data-vocabulary.org/#"><li typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="https://www.analyticsinhr.com/" title="">Home</a></li><li typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="https://www.analyticsinhr.com/blog/category/hr-analytics/">HR Analytics</a></li><li class="current">A Tutorial on People Analytics&hellip;</li></ol></div>
			<span class="fancy-header-overlay" style="background-color: rgba(0,0,0,0.5);"></span>
			</header>

<div id="main" class="sidebar-none sidebar-divider-vertical"  >

	
    <div class="main-gradient"></div>
    <div class="wf-wrap">
    <div class="wf-container-main">

	

	
		
<div class="wf-container-relative">
	<div class="wf-author-name-container"><h5 class="author-post__title">Lyndon Sundmark</h5></div>
    <div class="wf-author-container author-avatar round-images white-round-border">
		<img width="110" height="110" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-125x125.jpg" class="avatar avatar-110 photo" alt="" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-125x125.jpg 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-246x246.jpg 246w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-100x100.jpg 100w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-150x150.jpg 150w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-300x300.jpg 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark.jpg 394w" sizes="(max-width: 110px) 100vw, 110px" />	</div>
    <div class="wf-container-absolute">
		<div id="content" class="content" role="main">

			
				
<article id="post-5698" class="vertical-fancy-style post-5698 post type-post status-publish format-standard has-post-thumbnail category-hr-analytics tag-human-resources-analytics tag-people-analytics tag-tutorial category-50 description-off">

	<div class="post-thumbnail"><div class="fancy-date"><a title="11:00 am" href="https://www.analyticsinhr.com/blog/2016/09/05/" rel="nofollow"><span class="entry-month">Sep</span><span class="entry-date updated">5</span><span class="entry-year">2016</span></a></div><span class="fancy-categories"><a href="https://www.analyticsinhr.com/blog/category/hr-analytics/" rel="category tag">HR Analytics</a></span></div><div class="entry-content"><span class="wtr-time-wrap before-content"><span class="wtr-time-number">34</span> min read</span><div id="wtr-content" 
	    	data-bg="#FFFFFF" 
	    	data-fg="#1ebbf0" 
	    	data-width="5" 
	    	data-mute="" 
	    	data-fgopacity="1.00" 
	    	data-mutedopacity="0.5" 
	    	data-placement="bottom" 
	    	data-placement-offset="0" 
	    	data-content-offset="350" 
	    	data-placement-touch="top" 
		    data-placement-offset-touch="0" 
	    	data-transparent="1" 
	    	data-touch="" 
	    	data-comments="" 
	    	data-commentsbg="#ffcece" 
	    	data-location="page" 
	    	data-mutedfg="transparent" 
	    	><p>This is the last article in a series of three articles on employee churn published on Analytics in HR. In this article I will demonstrate how to build, evaluate and deploy your predictive model, using R.</p>
<p>To start I will first briefly introduce my vision on employee churn and summarize the data science process.</p>
<p>You may be asking what is Employee Churn? In a word -&#8220;turnover&#8217;- its when employees leave the organization. In another word- &#8220;terminates&#8221;, whether it be voluntary or involuntary. In the widest sense churn/turnover is concerned both the calculation of rates of people leaving the organization and the individual terminates themselves.</p>
<p>Most of the focus in the past has been on the &#8216;rates&#8217;, not on the individual terminates. We calculate past rates or turnover in an attempt to <a href="https://www.analyticsinhr.com/blog/predictive-analytics-human-resources/" target="_blank" rel="noopener">predict future turnover rates</a>. And indeed it is important to do that and to continue to do so. Data warehousing tools are very powerful in this regard to slice and dice this data efficiently over different time periods at different levels of granularity. <strong>BUT</strong> it is only half the picture. These rates only show the impact of churn/turnover in the &#8216;aggregate&#8217;. In addition to this, you might be interested in predicting exactly &#8216;who&#8217; or &#8216;which employees&#8217; exactly may be at high risk for leaving the organization. Hence the reason for being interested in the &#8216;individual&#8217; records in addition to the aggregate.</p>
<p>Statistically speaking, &#8216;churn&#8217; is &#8216;churn&#8217; regardless of context. It’s when a member of a population leaves a population. One of the examples you will see in Microsoft AzureML and in many data science textbooks out there is &#8216;customer&#8217; churn. This is from the marketing context. In many businesses such a cell phone companies and others, it is far harder to generate and attract new customers than it is to keep old ones. So businesses want to do what they can to keep existing customers. When they leave, that is &#8216;customer churn&#8217; for that particular company.</p>
<p>There is applicability of this kind of thinking and mindset to Human Resources in an organization as well. It is far less expensive to &#8216;keep&#8217; good employees once you have them, then the cost of attracting and training new ones. Hmmmmm- a marketing principle that applies to the management of human resources, and a data science set of algorithms that can help determine whether there are patterns of churn in our data that could help predict future churn.</p>
<p>HR truly needs to start thinking outside of its traditional thinking and methodologies to powerfully address the HR challenges and issues in the future</p>
<p>On a personal level, I like to think of People Analytics as when the data science process is applied to HR information. For that reason, I would to <strong>revisit</strong> what that process is and use it as the framework to guide the rest of the example illustrated in this blog article.</p>
<h3 style="color: #55acee;">The Data Science Process Revisited</h3>
<ol>
<li><strong>Define a goal</strong>, as mentioned above, means identifying first what HR management<br />
business problem you are trying to solve. Without a problem/issue we don&#8217;t have a<br />
goal.</li>
<li><strong>Collect and Manage data.</strong> At its simplest, you want a &#8216;dataset&#8217; of information perceived to be relevant to the problem. The collection and management of data could be a simple extract from the corporate Human Resource Information System, or an output from an elaborate Data Warehousing/Business Intelligence tool used on HR information. For purpose of this blog article illustration we will use a simple CSV file. It also involves exploring the data both for data quality issues, and for an initial look at what the data may be telling you</li>
<li><strong>Build The Model.</strong> This step really means, after you have defined the HR business problem or goal you are trying to achieve, you pick a data mining approach/tool that is designed to address that type of problem. With Employee Churn you are trying to predict who might leave as contrasted from those that stay. The business problem/goal determine the appropriate data mining tools to consider. Not exhaustive as a list, but common data mining approaches used in modelling are classification, regression, anomaly detection, time series, clustering, association analyses to name a few. These approaches take information/data as inputs, run them through statistical algorithms, and produce output.</li>
<li><strong>Evaluate and Critique Model.</strong> Each data mining approach can have many different statistical algorithms to bring to bear on the data. The evaluation is both what algorithms provide the most consistent accurate predictions on new data, and do we have all the relevant data or do we need more types of data to increase predictive accuracy of model on new data. This can be necessarily repetitive and circular activity over time to improve the model</li>
<li><strong>Present Results and Document.</strong> When we have gotten out model to an acceptable, useful predictive level, we document our activity and present results. The definition of acceptable and useful is really relative to the organization, but in all cases would mean results show improvement over what would have been otherwise. The principle behind data &#8216;science&#8217; like any science, is that with the same data, people should be able to reproduce our findings/ results.</li>
<li><strong>Deploy Model.</strong> The whole purpose of building the model (which is on existing data) is to:
<ul>
<li>use the model on future data when it becomes available, to predict or prevent something from happening before it occurs or</li>
<li>to better understand our existing business problem to tailor more specific responses</li>
</ul>
</li>
</ol>
<h3 style="color: #55acee;">Step 1 -Define The Goal</h3>
<p>Our hypothetical company found that its previous application of People Analytics- applying the data science process to organizational absenteeism as an issue yielded some valuable insights that are now impacting their decision making in the future on how they will address it.</p>
<p>It now wants to apply these same data science principles and steps to another HR issue: employee churn. It realizes when good people leave, it costs far more to replace them than providing some incentives to keep them. So it would like to be data driven in the HR decisions it makes with respect to employee retention.</p>
<p>The following questions are among the ones they would like answered:</p>
<ol>
<li>What proportion of our staff are leaving?</li>
<li>Where is it occurring?</li>
<li>How does Age and Length of Service affect termination?</li>
<li>What, if anything, else contributes to it?</li>
<li>Can we predict future terminations?</li>
<li>If so, how well can we predict?</li>
</ol>
<h3 style="color: #55acee;">Step 2 &#8211; Collect and Manage the Data</h3>
<p>Often the data to analyze the problem starts with what is currently readily available. After some initial prototyping of predictive models, ideas surface for additional data collection to further refine the model. Since this is first stab at this, the organization uses only what is readily available.</p>
<p>After consulting with their HRIS staff, they found that they have access to the following information:</p>
<ul>
<li>EmployeeID</li>
<li>Record Date</li>
<li>Birth Date</li>
<li>Original Hire Date</li>
<li>Termination Date (if terminated)</li>
<li>Age</li>
<li>Length of Service</li>
<li>City</li>
<li>Department</li>
<li>Job title</li>
<li>Store Name</li>
<li>Gender</li>
<li>termination reason</li>
<li>termination type (voluntary or involuntary)</li>
<li>Status Year &#8211; year of data</li>
<li>Status &#8211; ACTIVE or TERMINATED during status year</li>
<li>Business Unit -Stores or Head Office</li>
</ul>
<p>The company found out that they have 10 years of good data -from 2006 to 2015. It wants to use 2006-2014 as training data and use 2015 as the data to test on. The data consists of</p>
<ul>
<li>a snapshot of all active employees at the end of each of those years combined with</li>
<li>terminations that occurred during each of those years.</li>
</ul>
<p>Therefore, each year will have records that have either a status of &#8216;active&#8217; or &#8216;terminated&#8217;. Of the above information items listed, the &#8216;STATUS&#8217; one is the &#8216;dependent&#8217; variable- a category to be predicted. Many of others are the independent variables -&#8216;potential&#8217; predictors.<br />
hi</p>
<h3 style="color: #55acee;">First Look at The Data- The Structure</h3>
<p>Let’s load in the data. (By the way, the data below is totally <strong>contrived</strong>)<br />
You can find the datasets for this company <a href="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/Datasets-Tutorial-People-Analytics.zip" target="_blank" rel="noopener">here</a>. Feel free to use these datasets for the tutorial.</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Load an R data frame.</em></span>
MFG10YearTerminationData &lt;- <span style="color: #204a87;"><strong>read.csv</strong></span>(<span style="color: #4e9a06;"><strong>"~/Visual Studio 2015/Projects/EmployeeChurn/EmployeeChurn/MFG10YearTerminationData.csv"</strong></span>)
MYdataset &lt;- MFG10YearTerminationData
<span style="color: #204a87;"><strong>str</strong></span>(MYdataset)

## 'data.frame':   49653 obs. of 18 variables:
## $ EmployeeID         : int 1318 1318 1318 1318 1318 1318 1318 1318 1318 1318 ...
## $ recorddate_key     : Factor w/ 130 levels "1/1/2006 0:00",..: 41 42 43 44 45 46 47 48 49 50 ...
## $ birthdate_key     : Factor w/ 5342 levels "1941-01-15","1941-02-14",..: 1075 1075 1075 1075 1075 1075 1075 1075 1075 1075 ...
## $ orighiredate_key   : Factor w/ 4415 levels "1989-08-28","1989-08-31",..: 1 1 1 1 1 1 1 1 1 1 ...
## $ terminationdate_key: Factor w/ 1055 levels "1900-01-01","2006-01-01",..: 1 1 1 1 1 1 1 1 1 1 ...
## $ age               : int 52 53 54 55 56 57 58 59 60 61 ...
## $ length_of_service : int 17 18 19 20 21 22 23 24 25 26 ...
## $ city_name         : Factor w/ 40 levels "Abbotsford","Aldergrove",..: 35 35 35 35 35 35 35 35 35 35 ...
## $ department_name   : Factor w/ 21 levels "Accounting","Accounts Payable",..: 10 10 10 10 10 10 10 10 10 10 ...
## $ job_title         : Factor w/ 47 levels "Accounting Clerk",..: 9 9 9 9 9 9 9 9 9 9 ...
## $ store_name         : int 35 35 35 35 35 35 35 35 35 35 ...
## $ gender_short       : Factor w/ 2 levels "F","M": 2 2 2 2 2 2 2 2 2 2 ...
## $ gender_full       : Factor w/ 2 levels "Female","Male": 2 2 2 2 2 2 2 2 2 2 ...
## $ termreason_desc   : Factor w/ 4 levels "Layoff","Not Applicable",..: 2 2 2 2 2 2 2 2 2 2 ...
## $ termtype_desc     : Factor w/ 3 levels "Involuntary",..: 2 2 2 2 2 2 2 2 2 2 ...
## $ STATUS_YEAR       : int 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 ...
## $ STATUS             : Factor w/ 2 levels "ACTIVE","TERMINATED": 1 1 1 1 1 1 1 1 1 1 ...
## $ BUSINESS_UNIT     : Factor w/ 2 levels "HEADOFFICE","STORES": 1 1 1 1 1 1 1 1 1 1 ...

<span style="color: #204a87;"><strong>library</strong></span>(plyr)
<span style="color: #204a87;"><strong>library</strong></span>(dplyr)

##
## Attaching package: 'dplyr'
##
## The following objects are masked from 'package:plyr':
##
##     arrange, count, desc, failwith, id, mutate, rename, summarise,
##     summarize
##
## The following objects are masked from 'package:stats':
##
##     filter, lag
##
## The following objects are masked from 'package:base':
##
##     intersect, setdiff, setequal, union
</pre>
<h3 style="color: #55acee;">Second Look at The Data- Data Quality</h3>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>summary</strong></span>(MYdataset)

##    EmployeeID           recorddate_key     birthdate_key  
##  Min.   :1318   12/31/2013 0:00: 5215   1954-08-04:   40  
##  1st Qu.:3360   12/31/2012 0:00: 5101   1956-04-27:   40  
##  Median :5031   12/31/2011 0:00: 4972   1973-03-23:   40  
##  Mean   :4859   12/31/2014 0:00: 4962   1952-01-27:   30  
##  3rd Qu.:6335   12/31/2010 0:00: 4840   1952-08-10:   30  
##  Max.   :8336   12/31/2015 0:00: 4799   1953-10-06:   30  
##                 (Other)        :19764   (Other)   :49443  
##    orighiredate_key terminationdate_key      age        length_of_service
##  1992-08-09:   50   1900-01-01:42450    Min.   :19.00   Min.   : 0.00    
##  1995-02-22:   50   2014-12-30: 1079    1st Qu.:31.00   1st Qu.: 5.00    
##  2004-12-04:   50   2015-12-30:  674    Median :42.00   Median :10.00    
##  2005-10-16:   50   2010-12-30:   25    Mean   :42.08   Mean   :10.43    
##  2006-02-26:   50   2012-11-11:   21    3rd Qu.:53.00   3rd Qu.:15.00    
##  2006-09-25:   50   2015-02-04:   20    Max.   :65.00   Max.   :26.00    
##  (Other)   :49353   (Other)   : 5384                                     
##            city_name             department_name          job_title   
##  Vancouver      :11211   Meats           :10269   Meat Cutter  :9984  
##  Victoria       : 4885   Dairy           : 8599   Dairy Person :8590  
##  Nanaimo        : 3876   Produce         : 8515   Produce Clerk:8237  
##  New Westminster: 3211   Bakery          : 8381   Baker        :8096  
##  Kelowna        : 2513   Customer Service: 7122   Cashier      :6816  
##  Burnaby        : 2067   Processed Foods : 5911   Shelf Stocker:5622  
##  (Other)        :21890   (Other)         :  856   (Other)      :2308  
##    store_name   gender_short gender_full          termreason_desc 
##  Min.   : 1.0   F:25898      Female:25898   Layoff        : 1705  
##  1st Qu.:16.0   M:23755      Male  :23755   Not Applicable:41853  
##  Median :28.0                               Resignaton    : 2111  
##  Mean   :27.3                               Retirement    : 3984  
##  3rd Qu.:42.0                                                     
##  Max.   :46.0                                                     
##                                                                   
##         termtype_desc    STATUS_YEAR          STATUS     
##  Involuntary   : 1705   Min.   :2006   ACTIVE    :48168  
##  Not Applicable:41853   1st Qu.:2008   TERMINATED: 1485  
##  Voluntary     : 6095   Median :2011                     
##                         Mean   :2011                     
##                         3rd Qu.:2013                     
##                         Max.   :2015                     
##                                                          
##     BUSINESS_UNIT  
##  HEADOFFICE:  585  
##  STORES    :49068  
##
##
##
##
##</pre>
<p>A cursory look at the above summary doesn&#8217;t have anything jump out as being data quality issues.</p>
<p><strong>Related: An overview of <a href="https://www.analyticsinhr.com/blog/14-hr-metrics-examples/" target="_blank" rel="noopener">human resources metrics</a></strong></p>
<h3 style="color: #55acee;">Third Look at the Data &#8211; Generally What Is The Data Telling Us?</h3>
<p>Earlier we had indicated that we had both active records at end of year and terminates during the year for each of 10 years going from 2006 to 2015. To have a population to model from (to differentiate ACTIVES from TERMINATES) we have to include both status types.</p>
<p>It’s useful then to get a baseline of what percent/proportion the terminates are of the entire population. It also answers our first question. Let&#8217;s look at that next.</p>
<p><strong>What proportion of our staff are leaving?</strong></p>
<pre style="font-size: 14px;" data-lang="python">StatusCount&lt;- <span style="color: #204a87;"><strong>as.data.frame.matrix</strong></span>(MYdataset %&gt;%
<span style="color: #204a87;"><strong>group_by</strong></span>(STATUS_YEAR) %&gt;%
<span style="color: #204a87;"><strong>select</strong></span>(STATUS) %&gt;%
<span style="color: #204a87;"><strong>table</strong></span>())
StatusCount$TOTAL&lt;-StatusCount$ACTIVE + StatusCount$TERMINATED
StatusCount$PercentTerminated &lt;-StatusCount$TERMINATED/(StatusCount$TOTAL)*<span style="color: #204a87;">100</span>
StatusCount

##      ACTIVE TERMINATED TOTAL PercentTerminated
## 2006   4445        134  4579          2.926403
## 2007   4521        162  4683          3.459321
## 2008   4603        164  4767          3.440319
## 2009   4710        142  4852          2.926628
## 2010   4840        123  4963          2.478340
## 2011   4972        110  5082          2.164502
## 2012   5101        130  5231          2.485184
## 2013   5215        105  5320          1.973684
## 2014   4962        253  5215          4.851390
## 2015   4799        162  4961          3.265471

<span style="color: #204a87;"><strong>mean</strong></span>(StatusCount$PercentTerminated)

## [1] 2.997124</pre>
<p>It looks like it ranges from 1.97 to 4.85% with an average of 2.99%</p>
<p><strong>Where are the terminations occurring?</strong></p>
<p>Lets look at some charts</p>
<p><strong>By Business Unit</strong></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>library</strong></span>(ggplot2)
<span style="color: #204a87;"><strong>ggplot</strong></span>() + <span style="color: #204a87;"><strong>geom_bar</strong></span>(<span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">y =</span> ..count..,<span style="color: #204a87;">x =<strong>as.factor</strong></span>(BUSINESS_UNIT),<span style="color: #204a87;">fill = <strong>as.factor</strong></span>(STATUS)),<span style="color: #204a87;">data=</span>MYdataset,<span style="color: #204a87;">position = <strong>position_stack</strong>())</span></pre>
<p><img class="aligncenter size-full wp-image-5741" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit.png" alt="Graph: Terminations per business unit" width="765" height="536" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit.png 765w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit-545x382.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit-300x210.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit-125x88.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-per-business-unit-100x70.png 100w" sizes="(max-width: 765px) 100vw, 765px" /></p>
<p>It looks like terminates is the last 10 years have predominantly occurred in the STORES business unit. Only 1 terminate in HR Technology which is in the head office.</p>
<p>Lets explore just the terminates for a few moments.</p>
<p><strong>Just Terminates By Termination Type And Status Year</strong></p>
<pre style="font-size: 14px;" data-lang="python">TerminatesData&lt;- <span style="color: #204a87;"><strong>as.data.frame</strong></span>(MYdataset %&gt;%
<span style="color: #204a87;"><strong>filter</strong></span>(STATUS==<span style="color: #4e9a06;">"TERMINATED"</span>))
<span style="color: #204a87;"><strong>ggplot</strong></span>() + <span style="color: #204a87;"><strong>geom_bar</strong></span>(<span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">y = </span>..count..,<span style="color: #204a87;">x =<strong>as.factor</strong></span>(STATUS_YEAR),<span style="color: #204a87;">fill = <strong>as.factor</strong></span>(termtype_desc)),data=TerminatesData,<span style="color: #204a87;">position = <strong>position_stack</strong></span>())</pre>
<p><img class="aligncenter size-full wp-image-5742" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year.png" alt="Graph: Terminations by type and year" width="777" height="547" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year.png 777w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year-545x384.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year-300x211.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year-768x541.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year-125x88.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminations-by-type-and-year-100x70.png 100w" sizes="(max-width: 777px) 100vw, 777px" /></p>
<p>Generally most terminations seem to be voluntary year by year, except in the most recent years where is are some involutary terminates. By the way, these kind of insights are often included in a <a href="https://www.analyticsinhr.com/blog/hr-reporting-hr-report-hr-dashboard/" target="_blank" rel="noopener">workforce dashboard</a>.</p>
<p><strong>Just Terminates By Status Year and Termination Reason</strong></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>ggplot</strong></span>() + <span style="color: #204a87;"><strong>geom_bar</strong></span>(<span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">y = </span>..count..,<span style="color: #204a87;">x =<strong>as.factor</strong></span>(STATUS_YEAR),<span style="color: #204a87;">fill = <strong>as.factor</strong></span>(termreason_desc)),data=TerminatesData,<span style="color: #204a87;">position = <strong>position_stack</strong></span>())</pre>
<p><img class="aligncenter size-full wp-image-5746" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason.png" alt="graph: Terminates By Status Year and reason" width="799" height="549" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason.png 799w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason-545x374.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason-300x206.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason-768x528.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason-125x86.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Just-Terminates-By-Status-Year-and-reason-100x69.png 100w" sizes="(max-width: 799px) 100vw, 799px" /></p>
<p>It seems that there were layoffs in 2014 and 2015 which accounts for the involuntary terminates.</p>
<p><strong>Just Terminates By Termination Reason and Department</strong></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>ggplot</strong></span>() + <span style="color: #204a87;"><strong>geom_bar</strong></span>(<span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">y = </span>..count..,<span style="color: #204a87;">x =<strong>as.factor</strong></span>(department_name),<span style="color: #204a87;">fill = <strong>as.factor</strong></span>(termreason_desc)),data=TerminatesData,<span style="color: #204a87;">position = <strong>position_stack</strong></span>())+
 <span style="color: #204a87;"><strong>theme</strong></span>(<span style="color: #204a87;">axis.text.x=<strong>element_text</strong></span>(<span style="color: #204a87;">angle=<span style="color: #0000cf;">90</span>,hjust=<span style="color: #0000cf;">1</span>,vjust=<span style="color: #0000cf;">0.5</span></span>))</pre>
<p><img class="aligncenter size-full wp-image-5747" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department.png" alt="Graph: Terminates By Reason and Department" width="797" height="544" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department.png 797w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department-545x372.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department-300x205.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department-768x524.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department-125x85.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Terminates-By-Reason-and-Department-100x68.png 100w" sizes="(max-width: 797px) 100vw, 797px" /></p>
<p>When we look at the terminate by Department, a few thing stick out. Customer Service has a much larger proportion of resignation compared to other departments. And retirement in general is high is a number of departments.</p>
<p><strong>How does Age and Length of Service affect termination?</strong></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>library</strong></span>(caret)
## Loading required package: lattice
<span style="color: #204a87;"><strong>featurePlot</strong></span>(<span style="color: #204a87;">x=</span>MYdataset[,<span style="color: #0000cf;">6:7</span>],<span style="color: #204a87;">y=</span>MYdataset$STATUS,<span style="color: #204a87;">plot</span>=<span style="color: #4e9a06;">"density"</span>,<span style="color: #204a87;">auto.key = <strong>list</strong></span>(<span style="color: #204a87;">columns = <span style="color: #0000cf;">2</span></span>))
</pre>
<p><img class="aligncenter size-full wp-image-5748" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination.png" alt="Graph: Age and Length of Service Vs termination" width="801" height="501" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination.png 801w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination-545x341.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination-300x188.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination-768x480.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination-125x78.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Vs-termination-100x63.png 100w" sizes="(max-width: 801px) 100vw, 801px" /></p>
<p>Density plots show some interesting things. For terminates there is some elevation from 20 to 30 and a spike at 60. For length of service there are 5 spikes. One around 1 year, another one around 5 years, and a big one around 15 years, and a couple at 20 and 25 years.</p>
<p><strong>Age and Length of Service Distributions By Status</strong></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>featurePlot</strong></span>(<span style="color: #204a87;">x=</span>MYdataset[,<span style="color: #0000cf;">6:7</span>],<span style="color: #204a87;">y=</span>MYdataset$STATUS,<span style="color: #204a87;">plot</span>=<span style="color: #4e9a06;">"box"</span>,<span style="color: #204a87;">auto.key = <strong>list</strong></span>(<span style="color: #204a87;">columns = <span style="color: #0000cf;">2</span></span>))</pre>
<p><img class="aligncenter size-full wp-image-5749" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status.png" alt="plot: Age and Length of Service Distributions By Status" width="813" height="479" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status.png 813w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status-545x321.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status-300x177.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status-768x452.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status-125x74.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Age-and-Length-of-Service-Distributions-By-Status-100x59.png 100w" sizes="(max-width: 813px) 100vw, 813px" /></p>
<p>Boxplots show high average age for terminates as compared to active. Length of service shows not much difference between active and terminated.</p>
<p>That&#8217;s a brief general look at some of what the data is telling us. Our next step of course is model building.</p>
<p><strong>Related: An overview of key <a href="https://www.analyticsinhr.com/blog/employee-performance-metrics/" target="_blank" rel="noopener">employee performance metrics</a></strong></p><div class="gaihrba gaihrba-3"><div class="gaihrba-single aaihrba-5"><div class="aihrbaip"><table style="border:none;"><tr><td style="border: none; width: 25%; max-width: 160px;">

<p style="text-align: center;"><img src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/07/Webinar-icon-popup.png"  width="75%"></td><td style="border:none;">

<p style="font-size: 32px;">HR Analytics Intro Webinar</p>
<p style="font-size: 17px; line-height: 29px; font-weight: 300;">During this 20-minute webinar, AIHR Founder Erik van Vulpen will provide an introduction to HR analytics and share some inspiring HR analytics success stories with you.
</p><p style="font-size: 17px; line-height: 25px; font-weight: 500;">Watch the recording of the webinar for FREE
</p><a class="gofollow" data-track="NSwzLDEsNjA=" href="/hr-analytics-webinars/" target="_blank" style="text-decoration: none;"><div class="aihrbaip-button">Watch Replay</div><a/></td></tr></table></div></div></div>
<h3 style="color: #55acee;">Step 3 &#8211; Build The Model</h3>
<p>Similar to the last blog article, it should be mentioned again that for building models, we never want to use <strong>all</strong> our data to build the model. This can lead to overfitting- where it might be able to predict well on current data that it sees as is built on, but may not predict well on data that it hasn&#8217;t seen.</p>
<p>We have 10 years of historical data. we will use the first 9 to train the model, and the 10th year to test it. Moreover, we will use 10 fold cross validation on the training data as well. So before we actually try out a variety of modelling algorithms, we need to partition the data into training and testing datasets.</p>
<h3 style="color: #55acee;">Let&#8217;s Partition The Data</h3>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>library</strong></span>(rattle)   
## Rattle: A free graphical interface for data mining with R.
## Version 4.0.5 Copyright (c) 2006-2015 Togaware Pty Ltd.
## Type 'rattle()' to shake, rattle, and roll your data.
<span style="color: #204a87;"><strong>library</strong></span>(magrittr) <span style="color: #8f5902;"><em># For the %&gt;% and %&lt;&gt;% operators.</em></span>



building TRUE
scoring  <em># A pre-defined value is used to reset the random seed so that results are repeatable.</em>

crv$seed 42 


<span style="color: #8f5902;"><em># Load an R data frame.</em></span>
MFG10YearTerminationData <strong>read.csv</strong>(<span style="color: #4e9a06;">"~/Visual Studio 2015/Projects/EmployeeChurn/EmployeeChurn/MFG10YearTerminationData.csv"</span>)

MYdataset <em>#Create training and testing datasets

#Create training and testing datasets</em>

<span style="color: #204a87;"><strong>set.seed</strong></span>(crv$seed) 
MYnobs <strong>nrow</strong>(MYdataset) <span style="color: #8f5902;"><em># 52692 observations</em></span> 
MYsample <strong>subset</strong>(MYdataset,STATUS_YEAR&lt;=2014)
MYvalidate NULL
MYtest <strong>subset</strong>(MYdataset,STATUS_YEAR== 2015)

<span style="color: #8f5902;"><em># The following variable selections have been noted.</em></span>

MYinput <strong>c</strong>(<span style="color: #4e9a06;">"age", "length_of_service",    "gender_full", "STATUS_YEAR", "BUSINESS_UNIT"</span>)

MYnumeric <strong>c</strong>(<span style="color: #4e9a06;">"age", "length_of_service", "STATUS_YEAR"</span>)

MYcategoric <strong>c</strong>(<span style="color: #4e9a06;">"gender_full", "BUSINESS_UNIT"</span>)

MYtarget  "STATUS"
MYrisk    NULL
MYident   "EmployeeID"
MYignore  <strong>c</strong>(<span style="color: #4e9a06;">"recorddate_key", "birthdate_key", "orighiredate_key", "terminationdate_key", "city_name", "gender_short", "termreason_desc", "termtype_desc","department_name","job_title", "store_name"</span>)
MYweights NULL

MYTrainingData&lt;-MYtrain[<strong>c</strong>(MYinput, MYtarget)]
MYTestingData&lt;-MYtest[<strong>c</strong>(MYinput, MYtarget)]
</pre>
<h3 style="color: #55acee;">Choosing and Running Models</h3>
<p>One of the things that characterizes R, is that the number of functions and procedures that can be used are huge. So there often many ways of doing things. Two of the best R packages designed to be used for data science are <strong>caret</strong> and <strong>rattle</strong>.</p>
<p>We introduced caret in the last blog article. In this one I will use <strong>rattle</strong>. <strong>What is noteworthy about rattle is that it provides a GUI front end and generates the code for it in the log on the backend. So you can generate models quickly.</strong></p>
<p>I <strong>won’t</strong> be illustrating how to use rattle in this article as a GUI, but rather show the code it generated along with the statistical results and graphs. <strong>Please don’t get hung up/turned off by the code presented.</strong> The GUI front-end generated all the code below. I simply made cosmetic changes to it. <strong>Please do concentrate on the flow of the data science process in the article as one example of how it can be done.</strong> As a GUI rattle was able to generate all the below output in about 15 minutes of my effort. One tutorial on the rattle GUI can be found here:</p>
<p><a href="http://eric.univ-lyon2.fr/~ricco/tanagra/fichiers/en_Tanagra_Rattle_Package_for_R.pdf">http://eric.univ-lyon2.fr/~ricco/tanagra/fichiers/en_Tanagra_Rattle_Package_for_R.pdf</a></p>
<p>And here is a book on rattle:</p>
<p><a href="http://www.amazon.com/gp/product/1441998896/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;tag=togaware-20&amp;linkCode=as2&amp;camp=217145&amp;creative=399373&amp;creativeASIN=1441998896">http://www.amazon.com/gp/product/1441998896/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;tag=togaware-20&amp;linkCode=as2&amp;camp=217145&amp;creative=399373&amp;creativeASIN=1441998896</a></p>
<p>We should step back for a moment and review what are doing here, and what are opening questions were. We are wanting to predict who might terminate in the future. That is a &#8216;binary result&#8217; or &#8216;category&#8217;. A person is either &#8216;ACTIVE&#8217; or &#8216;TERMINATED&#8217;. __Since it is a category to be predicted we will choose among models/algorithms that can predict categories.</p>
<p>The models we will look at in rattle are:</p>
<ul>
<li>Decision Trees (rpart)</li>
<li>Boosted Models (adaboost)</li>
<li>Random Forests (rf)</li>
<li>Support Vactor Models (svm)</li>
<li>Linear Models (glm)</li>
</ul>
<h3 style="color: #55acee;">Decision Tree</h3>
<p>Lets first u take a look at a decision tree model. This is always useful because with these, you can get a visual tree model to get some idea of how the prediction occurs in an easy to understand way.</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><strong>library</strong></span>(rattle)
<span style="color: #204a87;"><strong>library</strong></span>(rpart, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Reset the random number seed to obtain the same results each time.</em></span>

<span style="color: #204a87;"><strong>set.seed</strong></span>(crv$seed)

<span style="color: #8f5902;"><em># Build the Decision Tree model.</em></span>

MYrpart <span style="color: #204a87;"><strong>rpart</strong></span>(STATUS ~ .,
                   <span style="color: #204a87;">data=</span>MYtrain[, <span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)],
                   <span style="color: #204a87;">method=</span><span style="color: #4e9a06;">"class"</span>,
                   <span style="color: #204a87;">parms=<strong>list</strong>(split=</span><span style="color: #4e9a06;">"information"</span>),
                   <span style="color: #204a87;">control=<strong>rpart.control</strong>(usesurrogate=<span style="color: #0000cf;">0</span>, 
                                         maxsurrogate=<span style="color: #0000cf;">0</span></span>))

<span style="color: #8f5902;"><em># Generate a textual view of the Decision Tree model.

#print(MYrpart)
#printcp(MYrpart)
#cat("\n")

# Time taken: 0.63 secs

#============================================================
# Rattle timestamp: 2016-03-25 09:45:25 x86_64-w64-mingw32 

# Plot the resulting Decision Tree. 

# We use the rpart.plot package.</em></span>

<span style="color: #204a87;"><strong>fancyRpartPlot</strong></span>(MYrpart, <span style="color: #204a87;">main</span>=<span style="color: #4e9a06;">"Decision Tree MFG10YearTerminationData $ STATUS"</span>)
</pre>
<p>We can now answer our next guestion from above:</p>
<p><strong>What, if anything, else contributes to it?</strong></p>
<p>From even the graphical tree output it looks like gender, and status year also affect it.</p>
<h3 style="color: #55acee;">Random Forests</h3>
<p>Now for Random Forests</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 18:21:29 x86_64-w64-mingw32 

# Random Forest 

# The 'randomForest' package provides the 'randomForest' function.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(randomForest, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)
## randomForest 4.6-12
## Type rfNews() to see new features/changes/bug fixes.
## 
## Attaching package: 'randomForest'
## 
## The following object is masked from 'package:ggplot2':
## 
##     margin
## 
## The following object is masked from 'package:dplyr':
## 
##     combine
<span style="color: #8f5902;"><em># Build the Random Forest model.</em></span>

<span style="color: #204a87;"><strong>set.seed</strong></span>(crv$seed)
MYrf <strong>randomForest</strong>(STATUS ~ .,
                                   <span style="color: #204a87;">data=</span>MYtrain[c(MYinput, MYtarget)],
                                   <span style="color: #204a87;">ntree=</span><span style="color: #0000cf;">500</span>,
                                   mtry=<span style="color: #0000cf;">2</span>,
                                   <span style="color: #204a87;">importance=</span><span style="color: #8f5902;">TRUE</span>,
                                   <span style="color: #204a87;">na.action</span>=randomForest::na.roughfix,
                                   <span style="color: #204a87;">replace=FALSE</span>)

<span style="color: #8f5902;"><em># Generate textual output of 'Random Forest' model.</em></span>

MYrf
## 
## Call:
##  randomForest(formula = STATUS ~ ., data = MYtrain[c(MYinput,      MYtarget)], ntree = 500, mtry = 2, importance = TRUE, replace = FALSE,      na.action = randomForest::na.roughfix) 
##                Type of random forest: classification
##                      Number of trees: 500
## No. of variables tried at each split: 2
## 
##         OOB estimate of  error rate: 1.13%
## Confusion matrix:
##            ACTIVE TERMINATED  class.error
## ACTIVE      43366          3 6.917383e-05
## TERMINATED    501        822 3.786848e-01
<span style="color: #8f5902;"><em># The `pROC' package implements various AUC functions.

# Calculate the Area Under the Curve (AUC).</em></span>

pROC::<span style="color: #204a87;"><strong>roc</strong></span>(MYrf$y, <span style="color: #204a87;"><strong>as.numeric</strong></span>(MYrf$predicted))
## 
## Call:
## roc.default(response = MYrf$y, predictor = as.numeric(MYrf$predicted))
## 
## Data: as.numeric(MYrf$predicted) in 43369 controls (MYrf$y ACTIVE) &lt; 1323 cases (MYrf$y TERMINATED).
## Area under the curve: 0.8106
<span style="color: #8f5902;"><em># Calculate the AUC Confidence Interval.</em></span>

pROC::<span style="color: #204a87;"><strong>ci.auc</strong></span>(MYrf$y, <span style="color: #204a87;"><strong>as.numeric</strong></span>(MYrf$predicted))
## 95% CI: 0.7975-0.8237 (DeLong)
<span style="color: #8f5902;"><em># List the importance of the variables.</em></span>

rn <strong>round</strong>(randomForest::<span style="color: #204a87;"><strong>importance</strong></span>(MYrf), <span style="color: #0000cf;">2</span>)
rn[<span style="color: #204a87;"><strong>order</strong></span>(rn[,<span style="color: #0000cf;">3</span>], <span style="color: #204a87;"><strong>decreasing=</strong></span><span style="color: #8f5902;">TRUE</span>),]
##                   ACTIVE TERMINATED MeanDecreaseAccuracy MeanDecreaseGini
## age                36.51     139.70                52.45           743.27
## STATUS_YEAR        35.46      34.13                41.50            64.65
## gender_full        28.02      40.03                37.08            76.80
## length_of_service  18.37      18.43                21.38            91.71
## BUSINESS_UNIT       6.06       7.64                 8.09             3.58
<span style="color: #8f5902;"><em># Time taken: 18.66 secs</em></span>
</pre>
<h3 style="color: #55acee;">Adaboost</h3>
<p class="FirstParagraph">Now for adaboost</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 18:22:22 x86_64-w64-mingw32 

# Ada Boost 

# The `ada' package implements the boost algorithm.

# Build the Ada Boost model.</em></span>

<span style="color: #204a87;"><strong>set.seed</strong></span>(crv$seed)
MYada <strong>ada</strong>(STATUS ~ .,
                  <span style="color: #204a87;">data=</span>MYtrain[c(MYinput, MYtarget)],
                  <span style="color: #204a87;">control=</span>rpart::rpart.control(<span style="color: #204a87;">maxdepth=<span style="color: #0000cf;">30</span>,
                                               cp=<span style="color: #0000cf;">0.010000</span>,
                                               minsplit=<span style="color: #0000cf;">20</span>,
                                               xval=<span style="color: #0000cf;">10</span>),
                                               iter=<span style="color: #0000cf;">50</span>)</span>

<span style="color: #8f5902;"><em># Print the results of the modelling.</em></span>

<span style="color: #204a87;"><strong>print</strong></span>(MYada)
## Call:
## ada(STATUS ~ ., data = MYtrain[c(MYinput, MYtarget)], control = rpart::rpart.control(maxdepth = 30, 
##     cp = 0.01, minsplit = 20, xval = 10), iter = 50)
## 
## Loss: exponential Method: discrete   Iteration: 50 
## 
## Final Confusion Matrix for Data:
##             Final Prediction
## True value   ACTIVE TERMINATED
##   ACTIVE      43366          3
##   TERMINATED    501        822
## 
## Train Error: 0.011 
## 
## Out-Of-Bag Error:  0.011  iteration= 6 
## 
## Additional Estimates of number of iterations:
## 
## train.err1 train.kap1 
##          1          1
<span style="color: #204a87;"><strong>round</strong></span>(MYada$model$errs[MYada$iter,], <span style="color: #0000cf;">2</span>)
## train.err train.kap 
##      0.01      0.24
<span style="color: #204a87;"><strong>cat</strong></span>(<span style="color: #4e9a06;">'Variables actually used in tree construction:\n'</span>)
## Variables actually used in tree construction:
<span style="color: #204a87;"><strong>print(sort(names(listAdaVarsUsed</strong></span>(MYada))))
## [1] "age"               "gender_full"       "length_of_service"
## [4] "STATUS_YEAR"
<span style="color: #204a87;"><strong>cat</strong></span>(<span style="color: #4e9a06;">'\nFrequency of variables actually used:\n'</span>)
## 
## Frequency of variables actually used:
<span style="color: #204a87;"><strong>print(listAdaVarsUsed</strong></span>(MYada))
## 
##               age       STATUS_YEAR length_of_service       gender_full 
##                43                41                34                29
</pre>
<h3 style="color: #55acee;">Support Vector Machines</h3>
<p class="FirstParagraph">Now lets look at Support Vector Machines</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 18:22:56 x86_64-w64-mingw32 

# Support vector machine. 

# The 'kernlab' package provides the 'ksvm' function.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(kernlab, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)
## 
## Attaching package: 'kernlab'
## 
## The following object is masked from 'package:ggplot2':
## 
##     alpha
<span style="color: #8f5902;"><em># Build a Support Vector Machine model.</em></span>

<span style="color: #204a87;"><strong>set.seed</strong></span>(crv$seed)
MYksvm <strong>ksvm</strong>(<span style="color: #204a87;"><strong>as.factor</strong></span>(STATUS) ~ .,
               <span style="color: #204a87;">data=</span>MYtrain[c(MYinput, MYtarget)],
               <span style="color: #204a87;">kernel=</span>"rbfdot",
               <span style="color: #204a87;">prob.model=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Generate a textual view of the SVM model.</em></span>

MYksvm
## Support Vector Machine object of class "ksvm" 
## 
## SV type: C-svc  (classification) 
##  parameter : cost C = 1 
## 
## Gaussian Radial Basis kernel function. 
##  Hyperparameter : sigma =  0.365136817631195 
## 
## Number of Support Vectors : 2407 
## 
## Objective Function Value : -2004.306 
## Training error : 0.017811 
## Probability model included.
<span style="color: #8f5902;"><em># Time taken: 42.91 secs</em></span>
</pre>
<h3 style="color: #55acee;">Linear Models</h3>
<p class="FirstParagraph">Finally lets look at linear models.</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 18:23:56 x86_64-w64-mingw32 

# Regression model 

# Build a Regression model.</em></span>

MYglm <strong>glm</strong>(STATUS ~ .,
             <span style="color: #204a87;">data=</span>MYtrain[c(MYinput, MYtarget)],
             <span style="color: #204a87;">family=<strong>binomial</strong>(link=</span><span style="color: #4e9a06;">"logit"</span>))

<span style="color: #8f5902;"><em># Generate a textual view of the Linear model.</em></span>

<span style="color: #204a87;"><strong>print(summary</strong></span>(MYglm))
## 
## Call:
## glm(formula = STATUS ~ ., family = binomial(link = "logit"), 
##     data = MYtrain[c(MYinput, MYtarget)])
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -1.3245  -0.2076  -0.1564  -0.1184   3.4080  
## 
## Coefficients:
##                       Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)         -893.51883   33.96609 -26.306  &lt; 2e-16 ***
## age                    0.21944    0.00438  50.095  &lt; 2e-16 ***
## length_of_service     -0.43146    0.01086 -39.738  &lt; 2e-16 ***
## gender_fullMale        0.51900    0.06766   7.671  1.7e-14 ***
## STATUS_YEAR            0.44122    0.01687  26.148  &lt; 2e-16 ***
## BUSINESS_UNITSTORES   -2.73943    0.16616 -16.486  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 11920.1  on 44691  degrees of freedom
## Residual deviance:  9053.3  on 44686  degrees of freedom
## AIC: 9065.3
## 
## Number of Fisher Scoring iterations: 7
<span style="color: #204a87;"><strong>cat(sprintf</strong></span>(<span style="color: #4e9a06;">"Log likelihood: %.3f (%d df)\n"</span>,
            <span style="color: #204a87;"><strong>logLik</strong></span>(MYglm)[<span style="color: #0000cf;">1</span>],
            <span style="color: #204a87;"><strong>attr</strong></span>(logLik(MYglm), <span style="color: #4e9a06;">"df"</span>)))
## Log likelihood: -4526.633 (6 df)
<span style="color: #204a87;"><strong>cat(sprintf</strong></span>(<span style="color: #4e9a06;">"Null/Residual deviance difference: %.3f (%d df)\n"</span>,
            MYglm$null.deviance-MYglm$deviance,
            MYglm$df.null-MYglm$df.residual))
## Null/Residual deviance difference: 2866.813 (5 df)
<span style="color: #204a87;"><strong>cat(sprintf</strong></span>(<span style="color: #4e9a06;">"Chi-square p-value: %.8f\n"</span>,
            <span style="color: #204a87;"><strong>dchisq</strong></span>(MYglm$null.deviance-MYglm$deviance,
                   MYglm$df.null-MYglm$df.residual)))
## Chi-square p-value: 0.00000000
<span style="color: #204a87;"><strong>cat(sprintf</strong></span>(<span style="color: #4e9a06;">"Pseudo R-Square (optimistic): %.8f\n"</span>,
            cor(MYglm$y, MYglm$fitted.values)))
## Pseudo R-Square (optimistic): 0.38428451
<span style="color: #204a87;"><strong>cat</strong></span>(<span style="color: #4e9a06;">'\n==== ANOVA ====\n\n'</span>)
## 
## ==== ANOVA ====
<span style="color: #204a87;"><strong>print(anova</strong></span>(MYglm, test=<span style="color: #4e9a06;">"Chisq"</span>))
## Analysis of Deviance Table
## 
## Model: binomial, link: logit
## 
## Response: STATUS
## 
## Terms added sequentially (first to last)
## 
## 
##                   Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    
## NULL                              44691    11920.1              
## age                1   861.75     44690    11058.3 &lt; 2.2e-16 ***
## length_of_service  1  1094.72     44689     9963.6 &lt; 2.2e-16 ***
## gender_full        1    14.38     44688     9949.2 0.0001494 ***
## STATUS_YEAR        1   716.39     44687     9232.8 &lt; 2.2e-16 ***
## BUSINESS_UNIT      1   179.57     44686     9053.3 &lt; 2.2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
<span style="color: #204a87;"><strong>cat</strong></span>(<span style="color: #4e9a06;">"\n"</span>)
<span style="color: #8f5902;"><em># Time taken: 1.62 secs</em></span>
</pre>
<p>These were simply the vanilla running of these models.In evaluating the models we have the means to compare their results on a common basis.</p>
<h3 style="color: #55acee;">Evaluate Models</h3>
<p>In the evaluating models step, we are able to answer our final 2 original questions stated at the beginning:</p>
<h4>Can we predict?</h4>
<p>In a word &#8216;yes&#8217;.</p>
<h4>How Well can we predict?</h4>
<p>In two words &#8216;fairly well&#8217;.</p>
<p>When it comes to evaluating models for predicting categories, we are defining accuracy as to how many times did the model predict the actual. So we are interested in a number of things.</p>
<p>The first of these are error matrices. In error matrices, you are cross-tabulating the actual results with predicted results. If the prediction was a &#8216;perfect&#8217; 100%, every prediction would be the same as actual. This almost never happens. The higher the correct prediction rate and lower the error rate, the better.</p>
<h3 style="color: #55acee;">Error Matrices</h3>
<h4>Decision Trees</h4>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 18:50:22 x86_64-w64-mingw32 

# Evaluate model performance. 

# Generate an Error Matrix for the Decision Tree model.

# Obtain the response from the Decision Tree model.</em></span>

MYpr <strong>predict</strong></span>(MYrpart, <span style="color: #204a87;">newdata=</span>MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)], <span style="color: #204a87;">type=</span><span style="color: #4e9a06;">"class"</span>)

<span style="color: #8f5902;"><em># Generate the confusion matrix showing counts.</em></span>

<span style="color: #204a87;"><strong>table</strong></span>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr,
      <span style="color: #204a87;">dnn=<strong>c</strong></span>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>))
##             Predicted
## Actual       ACTIVE TERMINATED
##   ACTIVE       4799          0
##   TERMINATED     99         63
<span style="color: #8f5902;"><em># Generate the confusion matrix showing proportions.</em></span>

pcme <strong>table</strong>(actual, cl)
  nc <strong>nrow</strong>(x)
  tbl <strong>cbind</strong>(x/<span style="color: #204a87;"><strong>length</strong></span>(actual),
               <span style="color: #204a87;">Error=<strong>sapply</strong></span>(1:nc,
                            function(r) <span style="color: #204a87;"><strong>round(sum</strong></span>(x[r,-r])/<span style="color: #204a87;"><strong>sum</strong></span>(x[r,]), <span style="color: #0000cf;">2</span>)))
  <span style="color: #204a87;"><strong>names(attr</strong></span>(tbl, <span style="color: #4e9a06;">"dimnames"</span>)) <strong>c</strong>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>)
  <span style="color: #204a87;"><strong>return</strong></span>(tbl)
}
per <strong>pcme</strong>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr)
<span style="color: #204a87;"><strong>round</strong></span>(per, <span style="color: #0000cf;">2</span>)
##             Predicted
## Actual       ACTIVE TERMINATED Error
##   ACTIVE       0.97       0.00  0.00
##   TERMINATED   0.02       0.01  0.61
<span style="color: #8f5902;"><em># Calculate the overall error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(1-sum(diag</strong></span>(per), <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 2
<span style="color: #8f5902;"><em># Calculate the averaged class error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(mean</strong></span>(per[,<span style="color: #4e9a06;">"Error"</span>], <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 30
</pre>
<h4>Adaboost</h4>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Generate an Error Matrix for the Ada Boost model.

# Obtain the response from the Ada Boost model.</em></span>

MYpr <strong>predict</strong>(MYada, <span style="color: #204a87;">newdata=</span>MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)])

<span style="color: #8f5902;"><em># Generate the confusion matrix showing counts.</em></span>

<span style="color: #204a87;"><strong>table</strong></span>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr,
      <span style="color: #204a87;">dnn=<strong>c</strong></span>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>))
##             Predicted
## Actual       ACTIVE TERMINATED
##   ACTIVE       4799          0
##   TERMINATED     99         63
<span style="color: #8f5902;"><em># Generate the confusion matrix showing proportions.</em></span>

pcme <strong>table</strong>(actual, cl)
  nc <strong>nrow</strong>(x)
  tbl <strong>cbind</strong>(x/<span style="color: #204a87;"><strong>length</strong></span>(actual),
               <span style="color: #204a87;">Error=<strong>sapply</strong></span>(<span style="color: #0000cf;">1</span>:nc,
                            function(r) <span style="color: #204a87;"><strong>round(sum</strong></span>(x[r,-r])/<span style="color: #204a87;"><strong>sum</strong></span>(x[r,]), <span style="color: #0000cf;">2</span>)))
  <span style="color: #204a87;"><strong>names(attr</strong></span>(tbl, <span style="color: #4e9a06;">"dimnames"</span>)) <strong>c</strong>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>)
  <span style="color: #204a87;"><strong>return</strong></span>(tbl)
}
per <strong>pcme</strong>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr)
<span style="color: #204a87;"><strong>round</strong></span>(per, <span style="color: #0000cf;">2</span>)
##             Predicted
## Actual       ACTIVE TERMINATED Error
##   ACTIVE       0.97       0.00  0.00
##   TERMINATED   0.02       0.01  0.61
<span style="color: #8f5902;"><em># Calculate the overall error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(<span style="color: #0000cf;">1-</span>sum(diag</strong></span>(per), <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 2
<span style="color: #8f5902;"><em># Calculate the averaged class error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(mean</strong></span>(per[,<span style="color: #4e9a06;">"Error"</span>], <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 30
</pre>
<h4>Random Forest</h4>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Generate an Error Matrix for the Random Forest model.

# Obtain the response from the Random Forest model.</em></span>

MYpr <strong>predict</strong>(MYrf, <span style="color: #204a87;">newdata=<strong>na.omit</strong></span>(MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)]))

<span style="color: #8f5902;"><em># Generate the confusion matrix showing counts.</em></span>

<span style="color: #204a87;"><strong>table(<strong>na.omit</strong></strong></span>(MYtest[c(MYinput, MYtarget])]$STATUS, MYpr,
      <span style="color: #204a87;">dnn=<strong>c</strong></span>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>))
##             Predicted
## Actual       ACTIVE TERMINATED
##   ACTIVE       4799          0
##   TERMINATED     99         63
<span style="color: #8f5902;"><em># Generate the confusion matrix showing proportions.</em></span>

pcme <strong>table</strong>(actual, cl)
  nc <strong>nrow</strong>(x)
  tbl <strong>cbind</strong>(x/<span style="color: #204a87;"><strong>length</strong></span>(actual),
               <span style="color: #204a87;">Error=<strong>sapply</strong></span>(<span style="color: #0000cf;">1</span>:nc,
                            function(r) <span style="color: #204a87;"><strong>round(sum</strong></span>(x[r,-r])/<span style="color: #204a87;"><strong>sum</strong></span>(x[r,]), <span style="color: #0000cf;">2</span>)))
  <span style="color: #204a87;"><strong>names(attr</strong></span>(tbl, <span style="color: #4e9a06;">"dimnames"</span>)) <strong>c</strong>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>)
  <span style="color: #204a87;"><strong>return</strong></span>(tbl)
}
per <strong>pcme</strong>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr)
<span style="color: #204a87;"><strong>round</strong></span>(per, <span style="color: #0000cf;">2</span>)
##             Predicted
## Actual       ACTIVE TERMINATED Error
##   ACTIVE       0.97       0.00  0.00
##   TERMINATED   0.02       0.01  0.61
<span style="color: #8f5902;"><em># Calculate the overall error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(<span style="color: #0000cf;">1-</span>sum(diag</strong></span>(per), <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 2
<span style="color: #8f5902;"><em># Calculate the averaged class error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(mean</strong></span>(per[,<span style="color: #4e9a06;">"Error"</span>], <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 30
</pre>
<h4>Support Vector Model</h4>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Generate an Error Matrix for the SVM model.

# Obtain the response from the SVM model.</em></span>

MYpr <strong>predict</strong>(MYksvm, <span style="color: #204a87;">newdata=<strong>na.omit</strong></span>(MYtest[c(MYinput, MYtarget)]))

<span style="color: #8f5902;"><em># Generate the confusion matrix showing counts.</em></span>

<span style="color: #204a87;"><strong>table(<strong>na.omit</strong></strong></span>(MYtest[c(MYinput, MYtarget])]$STATUS, MYpr,
      <span style="color: #204a87;">dnn=<strong>c</strong></span>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>))
##             Predicted
## Actual       ACTIVE TERMINATED
##   ACTIVE       4799          0
##   TERMINATED    150         12
<span style="color: #8f5902;"><em># Generate the confusion matrix showing proportions.</em></span>

pcme <strong>table</strong>(actual, cl)
  nc <strong>nrow</strong>(x)
  tbl <strong>cbind</strong>(x/<span style="color: #204a87;"><strong>length</strong></span>(actual),
               <span style="color: #204a87;">Error=<strong>sapply</strong></span>(<span style="color: #0000cf;">1</span>:nc,
                            function(r) <span style="color: #204a87;"><strong>round(sum</strong></span>(x[r,-r])/<span style="color: #204a87;"><strong>sum</strong></span>(x[r,]), <span style="color: #0000cf;">2</span>)))
  <span style="color: #204a87;"><strong>names(attr</strong></span>(tbl, <span style="color: #4e9a06;">"dimnames"</span>)) <strong>c</strong>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>)
  <span style="color: #204a87;"><strong>return</strong></span>(tbl)
}
per <strong>pcme</strong>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr)
<span style="color: #204a87;"><strong>round</strong></span>(per, <span style="color: #0000cf;">2</span>)
##             Predicted
## Actual       ACTIVE TERMINATED Error
##   ACTIVE       0.97          0  0.00
##   TERMINATED   0.03          0  0.93
<span style="color: #8f5902;"><em># Calculate the overall error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(<span style="color: #0000cf;">1-</span>sum(diag</strong></span>(per), <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 3
<span style="color: #8f5902;"><em># Calculate the averaged class error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(mean</strong></span>(per[,<span style="color: #4e9a06;">"Error"</span>], <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## 46
</pre>
<h4>Linear Model</h4>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Generate an Error Matrix for the Linear model.

# Obtain the response from the Linear model.</em></span>

MYpr <strong>as.vector(ifelse(predict</strong>(MYglm, <span style="color: #204a87;">type=</span>green: <span style="color: #4e9a06;">"response"</span>, <span style="color: #204a87;">newdata=</span>MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)]) &gt; <span style="color: #0000cf;">0.5</span>, green: <span style="color: #4e9a06;">"TERMINATED", "ACTIVE"</span>))

<span style="color: #8f5902;"><em># Generate the confusion matrix showing counts.</em></span>

<span style="color: #204a87;"><strong>table(<strong>na.omit</strong></strong></span>(MYtest[c(MYinput, MYtarget])]$STATUS, MYpr,
      <span style="color: #204a87;">dnn=<strong>c</strong></span>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>))
##             Predicted
## Actual       ACTIVE
##   ACTIVE       4799
##   TERMINATED    162
<span style="color: #8f5902;"><em># Generate the confusion matrix showing proportions.</em></span>

pcme <strong>table</strong>(actual, cl)
  nc <strong>nrow</strong>(x)
  tbl <strong>cbind</strong>(x/<span style="color: #204a87;"><strong>length</strong></span>(actual),
               <span style="color: #204a87;">Error=<strong>sapply</strong></span>(<span style="color: #0000cf;">1</span>:nc,
                            function(r) <span style="color: #204a87;"><strong>round(sum</strong></span>(x[r,-r])/<span style="color: #204a87;"><strong>sum</strong></span>(x[r,]), <span style="color: #0000cf;">2</span>)))
  <span style="color: #204a87;"><strong>names(attr</strong></span>(tbl, <span style="color: #4e9a06;">"dimnames"</span>)) <strong>c</strong>(<span style="color: #4e9a06;">"Actual", "Predicted"</span>)
  <span style="color: #204a87;"><strong>return</strong></span>(tbl)
}
per <strong>pcme</strong>(MYtest[c(MYinput, MYtarget)]$STATUS, MYpr)
<span style="color: #204a87;"><strong>round</strong></span>(per, <span style="color: #0000cf;">2</span>)
##             Predicted
## Actual       ACTIVE Error
##   ACTIVE       0.97     0
##   TERMINATED   0.03     1
<span style="color: #8f5902;"><em># Calculate the overall error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(<span style="color: #0000cf;">1-</span>sum(diag</strong></span>(per), <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
## -97
<span style="color: #8f5902;"><em># Calculate the averaged class error percentage.</em></span>

<span style="color: #204a87;"><strong>cat(<span style="color: #0000cf;">100</span>*round(mean</strong></span>(per[,<span style="color: #4e9a06;">"Error"</span>], <span style="color: #204a87;">na.rm=</span><span style="color: #8f5902;">TRUE</span>), <span style="color: #0000cf;">2</span>))
</pre>
<p><strong>Well that was interesting!</strong></p>
<p>Summarizing the confusion matrix showed that decision trees, random forests, and adaboost all predicted similarly. <strong>BUT</strong> Support Vector Machines and the Linear Models did worse for this data.</p>
<h3 style="color: #55acee;">Area Under Curve (AUC)</h3>
<p>Another way to evaluate the models is the AUC. The higher the AUC the better. The code below generates the information necessary to produce the graphs.</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><span style="color: #8f5902;"><em>#============================================================
# Rattle timestamp: 2016-03-25 19:44:22 x86_64-w64-mingw32 

# Evaluate model performance. 

# ROC Curve: requires the ROCR package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ROCR)
## Loading required package: gplots
## 
## Attaching package: 'gplots'
## 
## The following object is masked from 'package:stats':
## 
##     lowess
<span style="color: #8f5902;"><em># ROC Curve: requires the ggplot2 package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ggplot2, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Generate an ROC Curve for the rpart model on MFG10YearTerminationData [test].</em></span>

MYpr <strong>predict</strong></span>(MYrpart, <span style="color: #204a87;">newdata=</span>MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)])[,<span style="color: #0000cf;">2</span>]

<span style="color: #8f5902;"># Remove observations with missing target.</span>

no.miss   <strong><strong>na.omit</strong></strong>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list <strong>attr</strong>(no.miss, <span style="color: #4e9a06;">"na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) NULL

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred <strong>prediction</strong>(MYpr[-miss.list], no.miss)
} else
{
  pred <strong>prediction</strong>(MYpr, no.miss)
}

pe <strong>performance</strong>(pred, <span style="color: #4e9a06;">"tpr", "fpr"</span>)
au <strong>performance</strong>(pred, <span style="color: #4e9a06;">"auc"</span>)@y.values[[<span style="color: #0000cf;">1</span>]]
pd <strong>data.frame</strong>(<span style="color: #204a87;">fpr=<strong>unlist</strong></span>(pe@x.values), <span style="color: #204a87;">tpr=<strong>unlist</strong></span>(pe@y.values))
p <strong>ggplot</strong>(pd, <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=</span>fpr, <span style="color: #204a87;">y=</span>tpr))
p geom_line(<span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"red"</span>)
p <strong>xlab</strong>&gt;(<span style="color: #4e9a06;">"False Positive Rate"</span>) + <span style="color: #204a87;"><strong>ylab</strong></span>(<span style="color: #4e9a06;">"True Positive Rate"</span>)
p <strong>ggtitle</strong>(<span style="color: #4e9a06;">"ROC Curve Decision Tree MFG10YearTerminationData [test] STATUS"</span>)
p <strong>theme</strong>(<span style="color: #204a87;">plot.title=<strong>element_text</strong></span>(<span style="color: #204a87;">size=</span><span style="color: #0000cf;">10</span>))
p <strong>geom_line</strong>(<span style="color: #204a87;">data=<strong>data.frame</strong></span>(), <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=<strong>c</strong></span>(<span style="color: #0000cf;">0,1</span>), <span style="color: #204a87;">y=c</span>(<span style="color: #0000cf;">0,1</span>)), <span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"grey"</span>)
p <strong>annotate</strong>(<span style="color: #4e9a06;">"text"</span>, <span style="color: #204a87;">x=<span style="color: #0000cf;">0.50</span>, y=<span style="color: #0000cf;">0.00</span>, hjust=<span style="color: #0000cf;">0</span>, vjust=<span style="color: #0000cf;">0</span>, size=<span style="color: #0000cf;">5</span></span>,
                 <span style="color: #204a87;"> label=<strong>paste</strong></span>(<span style="color: #4e9a06;">"AUC ="</span>, <span style="color: #204a87;"><strong>round</strong></span>(au, <span style="color: #0000cf;">2</span>)))
<span style="color: #204a87;"><strong>print</strong></span>(p)
</pre>
<p><img class="aligncenter size-full wp-image-5761" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve-.png" alt="Graph: Area Under Curve" width="816" height="535" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve-.png 816w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve--545x357.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve--300x197.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve--768x504.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve--125x82.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/Area-Under-Curve--100x66.png 100w" sizes="(max-width: 816px) 100vw, 816px" /></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Calculate the area under the curve for the plot.


# Remove observations with missing target.</em></span>

no.miss   <strong>na.omit</strong>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list <strong>attr</strong>(no.miss, "<span style="color: #4e9a06;">na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred <strong>prediction</strong>(MYpr[-miss.list], no.miss)
} else
{
  pred <strong>prediction</strong>(MYpr, no.miss)
}
<span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)
## An object of class "performance"
## Slot "x.name":
## [1] "None"
## 
## Slot "y.name":
## [1] "Area under the ROC curve"
## 
## Slot "alpha.name":
## [1] "none"
## 
## Slot "x.values":
## list()
## 
## Slot "y.values":
## [[1]]
## [1] 0.6619685
## 
## 
## Slot "alpha.values":
## list()
# ROC Curve: requires the ROCR package.

<span style="color: #204a87;"><strong>library</strong></span>(ROCR)

<span style="color: #8f5902;"><em># ROC Curve: requires the ggplot2 package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ggplot2, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Generate an ROC Curve for the ada model on MFG10YearTerminationData [test].</em></span>

MYpr &lt;- <strong>predict</strong>(MYada, <span style="color: #204a87;">newdata=</span>MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)], <span style="color: #204a87;">type=</span><span style="color: #4e9a06;">"prob"</span>)[,<span style="color: #0000cf;">2</span>]

<span style="color: #8f5902;"># Remove observations with missing target.</span>

no.miss   <strong><strong>na.omit</strong></strong>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list <strong>attr</strong>(no.miss, <span style="color: #4e9a06;">"na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>
if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred <strong>prediction</strong>(MYpr[-miss.list], no.miss)
} else
{
  pred <strong>prediction</strong>(MYpr, no.miss)
}

pe <strong>performance</strong>(pred, <span style="color: #4e9a06;">"tpr", "fpr"</span>)
au <strong>performance</strong>(pred, <span style="color: #4e9a06;">"auc"</span>)@y.values[[<span style="color: #0000cf;">1</span>]]
pd <strong>data.frame</strong>(<span style="color: #204a87;">fpr=<strong>unlist</strong></span>(pe@x.values), <span style="color: #204a87;">tpr=<strong>unlist</strong></span>(pe@y.values))
p <strong>ggplot</strong>(pd, <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=</span>fpr, <span style="color: #204a87;">y=</span>tpr))
p geom_line(<span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"red"</span>)
p <strong>xlab</strong>&gt;(<span style="color: #4e9a06;">"False Positive Rate"</span>) + <span style="color: #204a87;"><strong>ylab</strong></span>(<span style="color: #4e9a06;">"True Positive Rate"</span>)
p <strong>ggtitle</strong>(<span style="color: #4e9a06;">"ROC Curve Ada Boost MFG10YearTerminationData [test] STATUS"</span>)
p <strong>theme</strong>(<span style="color: #204a87;">plot.title=<strong>element_text</strong></span>(<span style="color: #204a87;">size=</span><span style="color: #0000cf;">10</span>))
p <strong>geom_line</strong>(<span style="color: #204a87;">data=<strong>data.frame</strong></span>(), <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=<strong>c</strong></span>(<span style="color: #0000cf;">0,1</span>), <span style="color: #204a87;">y=c</span>(<span style="color: #0000cf;">0,1</span>)), <span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"grey"</span>)
p <strong>annotate</strong>(<span style="color: #4e9a06;">"text"</span>, <span style="color: #204a87;">x=<span style="color: #0000cf;">0.50</span>, y=<span style="color: #0000cf;">0.00</span>, hjust=<span style="color: #0000cf;">0</span>, vjust=<span style="color: #0000cf;">0</span>, size=<span style="color: #0000cf;">5</span></span>,
                 <span style="color: #204a87;"> label=<strong>paste</strong></span>(<span style="color: #4e9a06;">"AUC ="</span>, <span style="color: #204a87;"><strong>round</strong></span>(au, <span style="color: #0000cf;">2</span>)))
<span style="color: #204a87;"><strong>print</strong></span>(p)
</pre>
<p><img class="aligncenter size-full wp-image-5766" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost.png" alt="Graph: AUC Ada Boost" width="829" height="527" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost.png 829w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost-545x346.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost-300x191.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost-768x488.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost-125x79.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/AUC-Ada-Boost-100x64.png 100w" sizes="(max-width: 829px) 100vw, 829px" /></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Calculate the area under the curve for the plot.


# Remove observations with missing target.</em></span>

no.miss   <strong>na.omit</strong>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list <strong>attr</strong>(no.miss, "<span style="color: #4e9a06;">na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred <strong>prediction</strong>(MYpr[-miss.list], no.miss)
} else
{
  pred <strong>prediction</strong>(MYpr, no.miss)
}
<span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)
## An object of class "performance"
## Slot "x.name":
## [1] "None"
## 
## Slot "y.name":
## [1] "Area under the ROC curve"
## 
## Slot "alpha.name":
## [1] "none"
## 
## Slot "x.values":
## list()
## 
## Slot "y.values":
## [[1]]
## [1] 0.7525726
## 
## 
## Slot "alpha.values":
## list()
<span style="color: #8f5902;"><em># ROC Curve: requires the ROCR package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ROCR)

<span style="color: #8f5902;"><em># ROC Curve: requires the ggplot2 package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ggplot2, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

# Generate an ROC Curve for the rf model on MFG10YearTerminationData [test].
 
MYpr &lt;- <span style="color: #204a87;"><strong>predict</strong></span>(MYrf, <span style="color: #204a87;">newdata=<strong>na.omit</strong></span>(MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)]), type=<span style="color: #4e9a06;">"prob"</span>)[,<span style="color: #0000cf;">2</span>]

<span style="color: #8f5902;"># Remove observations with missing target.</span>

no.miss  &lt;- <strong>na.omit</strong>(na.omit(MYtest[c(MYinput, MYtarget)])$STATUS)
miss.list &lt;- <strong>attr</strong>(no.miss, <span style="color: #4e9a06;">"na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>
if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}

pe &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"tpr", "fpr"</span>)
au &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)@y.values[[<span style="color: #0000cf;">1</span>]]
pd &lt;- <span style="color: #204a87;"><strong>data.frame</strong></span>(<span style="color: #204a87;">fpr=<strong>unlist</strong></span>(pe@x.values), <span style="color: #204a87;">tpr=<strong>unlist</strong></span>(pe@y.values))
p &lt;- <span style="color: #204a87;"><strong>ggplot</strong></span>(pd, <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=</span>fpr, <span style="color: #204a87;">y=</span>tpr))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"red"</span>)
p &lt;- <span style="color: #204a87;"><strong>xlab</strong></span>&gt;(<span style="color: #4e9a06;">"False Positive Rate"</span>) + <span style="color: #204a87;"><strong>ylab</strong></span>(<span style="color: #4e9a06;">"True Positive Rate"</span>)
p &lt;- <span style="color: #204a87;"><strong>ggtitle</strong></span>(<span style="color: #4e9a06;">"ROC Curve Random Forest MFG10YearTerminationData [test] STATUS"</span>)
p &lt;- <span style="color: #204a87;"><strong>theme</strong></span>(<span style="color: #204a87;">plot.title=<strong>element_text</strong></span>(<span style="color: #204a87;">size=</span><span style="color: #0000cf;">10</span>))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">data=<strong>data.frame</strong></span>(), <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=<strong>c</strong></span>(<span style="color: #0000cf;">0,1</span>), <span style="color: #204a87;">y=c</span>(<span style="color: #0000cf;">0,1</span>)), <span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"grey"</span>)
p &lt;- <span style="color: #204a87;"><strong>annotate</strong></span>(<span style="color: #4e9a06;">"text"</span>, <span style="color: #204a87;">x=<span style="color: #0000cf;">0.50</span>, y=<span style="color: #0000cf;">0.00</span>, hjust=<span style="color: #0000cf;">0</span>, vjust=<span style="color: #0000cf;">0</span>, size=<span style="color: #0000cf;">5</span></span>,
                 <span style="color: #204a87;"> label=<strong>paste</strong></span>(<span style="color: #4e9a06;">"AUC ="</span>, <span style="color: #204a87;"><strong>round</strong></span>(au, <span style="color: #0000cf;">2</span>)))
<span style="color: #204a87;"><strong>print</strong></span>(p)</pre>
<p><img class="aligncenter size-full wp-image-5767" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest.png" alt="Graph: ROC Curve Random Forest" width="828" height="539" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest.png 828w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest-545x355.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest-300x195.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest-768x500.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest-125x81.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Random-Forest-100x65.png 100w" sizes="(max-width: 828px) 100vw, 828px" /></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Calculate the area under the curve for the plot.


# Remove observations with missing target.</em></span>

no.miss   &lt;- <span style="color: #204a87;"><strong>na.omit(na.omit</strong></span>(MYtest[c(MYinput, MYtarget)])$STATUS)
miss.list &lt;- <span style="color: #204a87;"><strong>attr</strong></span>(no.miss, "<span style="color: #4e9a06;">na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) &lt;- <span style="color: #8f5902;">NULL</span>

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}
<span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)
## An object of class "performance"
## Slot "x.name":
## [1] "None"
## 
## Slot "y.name":
## [1] "Area under the ROC curve"
## 
## Slot "alpha.name":
## [1] "none"
## 
## Slot "x.values":
## list()
## 
## Slot "y.values":
## [[1]]
## [1] 0.7332874
## 
## 
## Slot "alpha.values":
## list()
<span style="color: #8f5902;"><em># ROC Curve: requires the ROCR package.</em></span>
<span style="color: #204a87;"><strong>library</strong></span>(ROCR)

<span style="color: #8f5902;"><em># ROC Curve: requires the ggplot2 package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ggplot2, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Generate an ROC Curve for the ksvm model on MFG10YearTerminationData [test].</em></span>

MYpr &lt;- kernlab::<span style="color: #204a87;"><strong>predict</strong></span>(MYksvm, <span style="color: #204a87;">newdata=<strong>na.omit</strong></span>(MYtest[c(MYinput, MYtarget)]), <span style="color: #204a87;">type=</span><span style="color: #4e9a06;">"probabilities"</span>)[,<span style="color: #0000cf;">2</span>]

<span style="color: #8f5902;"># Remove observations with missing target.</span>

no.miss  &lt;- <span style="color: #204a87;"><strong>na.omit</strong></span>(<span style="color: #204a87;"><strong>na.omit</strong></span>(MYtest[c(MYinput, MYtarget)])$STATUS)
miss.list &lt;- <span style="color: #204a87;"><strong>attr</strong></span>(no.miss, <span style="color: #4e9a06;">"na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>
if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}

pe &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"tpr", "fpr"</span>)
au &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)@y.values[[<span style="color: #0000cf;">1</span>]]
pd &lt;- <span style="color: #204a87;"><strong>data.frame</strong></span>(<span style="color: #204a87;">fpr=<strong>unlist</strong></span>(pe@x.values), <span style="color: #204a87;">tpr=<strong>unlist</strong></span>(pe@y.values))
p &lt;- <span style="color: #204a87;"><strong>ggplot</strong></span>(pd, <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=</span>fpr, <span style="color: #204a87;">y=</span>tpr))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"red"</span>)
p &lt;- <span style="color: #204a87;"><strong>xlab</strong></span>&gt;(<span style="color: #4e9a06;">"False Positive Rate"</span>) + <span style="color: #204a87;"><strong>ylab</strong></span>(<span style="color: #4e9a06;">"True Positive Rate"</span>)
p &lt;- <span style="color: #204a87;"><strong>ggtitle</strong></span>(<span style="color: #4e9a06;">"ROC Curve SVM MFG10YearTerminationData [test] STATUS"</span>)
p &lt;- <span style="color: #204a87;"><strong>theme</strong></span>(<span style="color: #204a87;">plot.title=<strong>element_text</strong></span>(<span style="color: #204a87;">size=</span><span style="color: #0000cf;">10</span>))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">data=<strong>data.frame</strong></span>(), <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=<strong>c</strong></span>(<span style="color: #0000cf;">0,1</span>), <span style="color: #204a87;">y=c</span>(<span style="color: #0000cf;">0,1</span>)), <span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"grey"</span>)
p &lt;- <span style="color: #204a87;"><strong>annotate</strong></span>(<span style="color: #4e9a06;">"text"</span>, <span style="color: #204a87;">x=<span style="color: #0000cf;">0.50</span>, y=<span style="color: #0000cf;">0.00</span>, hjust=<span style="color: #0000cf;">0</span>, vjust=<span style="color: #0000cf;">0</span>, size=<span style="color: #0000cf;">5</span></span>,
                 <span style="color: #204a87;"> label=<strong>paste</strong></span>(<span style="color: #4e9a06;">"AUC ="</span>, <span style="color: #204a87;"><strong>round</strong></span>(au, <span style="color: #0000cf;">2</span>)))
<span style="color: #204a87;"><strong>print</strong></span>(p)</pre>
<p><img class="aligncenter size-full wp-image-5770" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM.png" alt="ROC Curve SVM" width="837" height="521" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM.png 837w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM-545x339.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM-300x187.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM-768x478.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM-125x78.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-SVM-100x62.png 100w" sizes="(max-width: 837px) 100vw, 837px" /></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Calculate the area under the curve for the plot.


# Remove observations with missing target.</em></span>

no.miss   &lt;- <span style="color: #204a87;"><strong>na.omit(na.omit</strong></span>(MYtest[c(MYinput, MYtarget)])$STATUS)
miss.list &lt;- <span style="color: #204a87;"><strong>attr</strong></span>(no.miss, "<span style="color: #4e9a06;">na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) &lt;- <span style="color: #8f5902;">NULL</span>

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}
<span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)
## An object of class "performance"
## Slot "x.name":
## [1] "None"
## 
## Slot "y.name":
## [1] "Area under the ROC curve"
## 
## Slot "alpha.name":
## [1] "none"
## 
## Slot "x.values":
## list()
## 
## Slot "y.values":
## [[1]]
## [1] 0.679458
## 
## 
## Slot "alpha.values":
## list()
<span style="color: #8f5902;"><em># ROC Curve: requires the ROCR package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ROCR)

<span style="color: #8f5902;"><em># ROC Curve: requires the ggplot2 package.</em></span>

<span style="color: #204a87;"><strong>library</strong></span>(ggplot2, <span style="color: #204a87;">quietly=</span><span style="color: #8f5902;">TRUE</span>)

<span style="color: #8f5902;"><em># Generate an ROC Curve for the glm model on MFG10YearTerminationData [test].</em></span>
 
 MYpr &lt;- <span style="color: #204a87;"><strong>predict(MYglm, </strong>type=</span><span style="color: #4e9a06;">"response"</span>, newdata=MYtest[<span style="color: #204a87;"><strong>c</strong></span>(MYinput, MYtarget)])

<span style="color: #8f5902;"># Remove observations with missing target.</span>

no.miss  &lt;- <span style="color: #204a87;"><strong>na.omit</strong></span>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list &lt;- <span style="color: #204a87;"><strong>attr</strong></span>(no.miss, <span style="color: #4e9a06;">"na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) Brown <span style="color: #8f5902;">NULL</span>
if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}

pe &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"tpr", "fpr"</span>)
au &lt;- <span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)@y.values[[<span style="color: #0000cf;">1</span>]]
pd &lt;- <span style="color: #204a87;"><strong>data.frame</strong></span>(<span style="color: #204a87;">fpr=<strong>unlist</strong></span>(pe@x.values), <span style="color: #204a87;">tpr=<strong>unlist</strong></span>(pe@y.values))
p &lt;- <span style="color: #204a87;"><strong>ggplot</strong></span>(pd, <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=</span>fpr, <span style="color: #204a87;">y=</span>tpr))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"red"</span>)
p &lt;- <span style="color: #204a87;"><strong>xlab</strong></span>&gt;(<span style="color: #4e9a06;">"False Positive Rate"</span>) + <span style="color: #204a87;"><strong>ylab</strong></span>(<span style="color: #4e9a06;">"True Positive Rate"</span>)
p &lt;- <span style="color: #204a87;"><strong>ggtitle</strong></span>(<span style="color: #4e9a06;">"ROC Curve Linear MFG10YearTerminationData [test] STATUS"</span>)
p &lt;- <span style="color: #204a87;"><strong>theme</strong></span>(<span style="color: #204a87;">plot.title=<strong>element_text</strong></span>(<span style="color: #204a87;">size=</span><span style="color: #0000cf;">10</span>))
p &lt;- <span style="color: #204a87;"><strong>geom_line</strong></span>(<span style="color: #204a87;">data=<strong>data.frame</strong></span>(), <span style="color: #204a87;"><strong>aes</strong></span>(<span style="color: #204a87;">x=<strong>c</strong></span>(<span style="color: #0000cf;">0,1</span>), <span style="color: #204a87;">y=c</span>(<span style="color: #0000cf;">0,1</span>)), <span style="color: #204a87;">colour=</span><span style="color: #4e9a06;">"grey"</span>)
p &lt;- <span style="color: #204a87;"><strong>annotate</strong></span>(<span style="color: #4e9a06;">"text"</span>, <span style="color: #204a87;">x=<span style="color: #0000cf;">0.50</span>, y=<span style="color: #0000cf;">0.00</span>, hjust=<span style="color: #0000cf;">0</span>, vjust=<span style="color: #0000cf;">0</span>, size=<span style="color: #0000cf;">5</span></span>,
                 <span style="color: #204a87;"> label=<strong>paste</strong></span>(<span style="color: #4e9a06;">"AUC ="</span>, <span style="color: #204a87;"><strong>round</strong></span>(au, <span style="color: #0000cf;">2</span>)))
<span style="color: #204a87;"><strong>print</strong></span>(p)</pre>
<p><img class="aligncenter size-full wp-image-5772" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear.png" alt="Graph: ROC Curve Linear" width="844" height="528" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear.png 844w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear-545x341.png 545w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear-300x188.png 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear-768x480.png 768w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear-125x78.png 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/ROC-Curve-Linear-100x63.png 100w" sizes="(max-width: 844px) 100vw, 844px" /></p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #8f5902;"><em># Calculate the area under the curve for the plot.


# Remove observations with missing target.</em></span>

no.miss   &lt;- <span style="color: #204a87;"><strong>na.omit</strong></span>(MYtest[c(MYinput, MYtarget)]$STATUS)
miss.list &lt;- <span style="color: #204a87;"><strong>attr</strong></span>(no.miss, "<span style="color: #4e9a06;">na.action"</span>)
<span style="color: #204a87;"><strong>attributes</strong></span>(no.miss) &lt;- <span style="color: #8f5902;">NULL</span>

if (<span style="color: #204a87;"><strong>length</strong></span>(miss.list))
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr[-miss.list], no.miss)
} else
{
  pred &lt;- <span style="color: #204a87;"><strong>prediction</strong></span>(MYpr, no.miss)
}
<span style="color: #204a87;"><strong>performance</strong></span>(pred, <span style="color: #4e9a06;">"auc"</span>)
## An object of class "performance"
## Slot "x.name":
## [1] "None"
## 
## Slot "y.name":
## [1] "Area under the ROC curve"
## 
## Slot "alpha.name":
## [1] "none"
## 
## Slot "x.values":
## list()
## 
## Slot "y.values":
## [[1]]
## [1] 0.4557386
## 
## 
## Slot "alpha.values":
## list()</pre>
<p>A couple of things to notice:</p>
<ul>
<li><strong>It turns out that the adaboost model produces the highest AUC.</strong> So we will use it to predict the 2016 terminates in just a little bit.</li>
<li>The Linear model was worst.</li>
</ul>
<h3 style="color: #55acee;">Present Results and Document</h3>
<p>All the files (code, csv data file, and published formats) for this blog article can be found at the following link:</p>
<p><a href="https://onedrive.live.com/redir?resid=4EF2CCBEDB98D0F5!6372&amp;authkey=!ANDjbK5SkuAboc4&amp;ithint=folder%2c">https://onedrive.live.com/redir?resid=4EF2CCBEDB98D0F5!6372&amp;authkey=!ANDjbK5SkuAboc4&amp;ithint=folder%2c</a></p>
<p>Similar to the last blog article, the results are presented using the R Markdown language. The blog article is written in it. It is the <strong>rmd</strong> file provided in the link. R Markdown allows inline integration of R code, results, and graphs with the textual material of this blog article. And it can be published in Word, HTML, or PDF formats.</p>
<p>If you want to run any of the code for this article you need to download the CSV files and make changes to the path information in the R code to suit where you located the CSV file.</p>
<h3 style="color: #55acee;">Deploy Model</h3>
<p>Let’s predict the 2016 Terminates.</p>
<p>In real life you would take a snapshot of data at end of 2015 for active employees. For purposes of this exercise we will do that but also alter the data to make both age year of service information &#8211; 1 year greater for 2016.</p>
<pre style="font-size: 14px;" data-lang="python"><span style="color: #204a87;"><span style="color: #8f5902;"><em>#Apply model
#Generate 2016 data</em></span>
Employees2016<em>#2015 data</em></span>

ActiveEmployees2016&lt;-<span style="color: #204a87;"><strong>subset</strong></span>(Employees2016,STATUS==<span style="color: #4e9a06;">'ACTIVE'</span>)
ActiveEmployees2016$age&lt;-ActiveEmployees2016$age<span style="color: #0000cf;">+1</span>
ActiveEmployees2016$length_of_service&lt;-ActiveEmployees2016$length_of_service<span style="color: #0000cf;">+1</span>

<span style="color: #8f5902;"><em>#Predict 2016 Terminates using adaboost
#MYada was name we gave to adaboost model earlier</em></span>
ActiveEmployees2016$PredictedSTATUS2016&lt;-<span style="color: #204a87;"><strong>predict</strong></span>(MYada,ActiveEmployees2016)
PredictedTerminatedEmployees2016&lt;-<span style="color: #204a87;"><strong>subset</strong></span>(ActiveEmployees2016,PredictedSTATUS2016==<span style="color: #4e9a06;">'TERMINATED'</span>)
<span style="color: #8f5902;"><em>#show records for first 5 predictions</em></span>
<span style="color: #204a87;"><strong>head</strong></span>(PredictedTerminatedEmployees2016)
##      EmployeeID  recorddate_key birthdate_key orighiredate_key
## 1551       1703 12/31/2015 0:00    1951-01-13       1990-09-23
## 1561       1705 12/31/2015 0:00    1951-01-15       1990-09-24
## 1571       1706 12/31/2015 0:00    1951-01-20       1990-09-27
## 1581       1710 12/31/2015 0:00    1951-01-24       1990-09-29
## 1600       1713 12/31/2015 0:00    1951-01-27       1990-10-01
## 1611       1715 12/31/2015 0:00    1951-01-31       1990-10-03
##      terminationdate_key age length_of_service     city_name
## 1551          1900-01-01  65                26     Vancouver
## 1561          1900-01-01  65                26      Richmond
## 1571          1900-01-01  65                26       Kelowna
## 1581          1900-01-01  65                26 Prince George
## 1600          1900-01-01  65                26     Vancouver
## 1611          1900-01-01  65                26      Richmond
##       department_name                job_title store_name gender_short
## 1551            Meats            Meats Manager         43            F
## 1561            Meats            Meats Manager         29            M
## 1571            Meats              Meat Cutter         16            M
## 1581 Customer Service Customer Service Manager         26            M
## 1600          Produce          Produce Manager         43            F
## 1611          Produce          Produce Manager         29            F
##      gender_full termreason_desc  termtype_desc STATUS_YEAR STATUS
## 1551      Female  Not Applicable Not Applicable        2015 ACTIVE
## 1561        Male  Not Applicable Not Applicable        2015 ACTIVE
## 1571        Male  Not Applicable Not Applicable        2015 ACTIVE
## 1581        Male  Not Applicable Not Applicable        2015 ACTIVE
## 1600      Female  Not Applicable Not Applicable        2015 ACTIVE
## 1611      Female  Not Applicable Not Applicable        2015 ACTIVE
##      BUSINESS_UNIT PredictedSTATUS2016
## 1551        STORES          TERMINATED
## 1561        STORES          TERMINATED
## 1571        STORES          TERMINATED
## 1581        STORES          TERMINATED
## 1600        STORES          TERMINATED
## 1611        STORES          TERMINATED
</pre>
<p>There were 93 predicted terminates for 2016.</p>
<h3 style="color: #55acee;">Wrap Up</h3>
<p>The intent of this blog article was:</p>
<ul>
<li>to once again demonstrate a People Analytics example Using R</li>
<li>to demonstrate a meaningful example from the HR context</li>
<li>not to be necessarily a best practices example, rather an illustrative one</li>
<li>to motivate the HR Community to make much more extensive use of &#8216;data-driven&#8217; HR decision making.</li>
<li>to encourage those interested in using R in data science to delve more deeply into R&#8217;s tools in this area.</li>
</ul>
<p>From a practical perspective, if this was real data from a real organization, the onus would be on the organization to make &#8216;decisions&#8217; about what the data is telling them. An inability to do so is called <a href="https://www.analyticsinhr.com/blog/deal-analysis-paralysis/" target="_blank" rel="noopener">analysis paralysis</a>.</p>
<p>Again, enjoy the People Analytics journey&#8230;</p>
<p><strong>If you want to learn more about doing HR analytics in R, including churn analytics, engagement analytics, data visualization, and more, check out our course on <a href="https://www.hranalyticsacademy.com/tutorial-employee-churn-in-r/?utm_source=aihrblog&amp;utm_medium=blog&amp;utm_campaign=inbound-blog&amp;utm_content=employee-churn-tutorial-using-r" target="_blank" rel="noopener">predictive analytics</a> in the <a href="https://www.hranalyticsacademy.com/?utm_source=aihrblog&amp;utm_medium=blog&amp;utm_campaign=inbound-blog&amp;utm_content=employee-churn-tutorial-using-r" target="_blank" rel="noopener">HR Analytics Academy</a>.</strong></p>
</div></p></div><div class="post-meta wf-mobile-collapsed"><div class="entry-meta"><span class="category-link">Category:&nbsp;<a href="https://www.analyticsinhr.com/blog/category/hr-analytics/" >HR Analytics</a></span><a class="author vcard" href="https://www.analyticsinhr.com/blog/author/lyndon-sundmark/" title="View all posts by Lyndon Sundmark" rel="author">By <span class="fn">Lyndon Sundmark</span></a><a href="https://www.analyticsinhr.com/blog/2016/09/05/" title="11:00 am" class="data-link" rel="bookmark"><time class="entry-date updated" datetime="2016-09-05T11:00:25+00:00">September 5, 2016</time></a><a href="https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn/#comments" class="comment-link" ><span class="dsq-postid" data-dsqidentifier="5698 https://www.analyticsinhr.com/?p=5698">7 Comments</span></a></div><div class="entry-tags">Tags:&nbsp;<a href="https://www.analyticsinhr.com/blog/tag/human-resources-analytics/" rel="tag">human resources analytics</a><a href="https://www.analyticsinhr.com/blog/tag/people-analytics/" rel="tag">People Analytics</a><a href="https://www.analyticsinhr.com/blog/tag/tutorial/" rel="tag">Tutorial</a></div></div>		<div class="author-info entry-author">
			<div class="author-avatar round-images"><img width="120" height="120" src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-125x125.jpg" class="avatar avatar-120 photo" alt="" srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-125x125.jpg 125w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-246x246.jpg 246w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-100x100.jpg 100w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-150x150.jpg 150w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark-300x300.jpg 300w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/01/Lyndon-Sundmark.jpg 394w" sizes="(max-width: 120px) 100vw, 120px" /></div>			<div class="author-description">
				<h4><span class="author-heading">by</span>&nbsp;Lyndon Sundmark</h4>
				<a class="author-link" href="http://www.a3hr.com" rel="author">http://www.a3hr.com</a>				<p class="author-bio">Lyndon is an independent consultant in People/HR Analytics. With over 35 years of experience in HR and Information Technology in various roles, a common thread in all of that has been to address significant organizational HR questions with the application of technology and statistics to HR data.  Contact Lyndon at <a href="mailto:lvsund@outlook.com">lvsund@outlook.com</a>  or connect with Lyndon on <a href="http://www.linkedin.com/in/lyndon-sundmark-mba">LinkedIn</a></p>
							</div>
		</div>
	<div class="join-conversation">
			<h4>Join the Conversation </h4>
			<p></p>
			</div>
<div id="disqus_thread"></div>
<div>&nbsp;</div><div class="join-conversation">
			<h4>Found this useful? Share it on </h4>
			<p></p>
			</div><div>&nbsp;</div><div class="social-icons"><!-- Add font awesome icons -->
	<a href="https://twitter.com/share?url=https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn" class="fa fa-twitter" target="_blank"></a>
	<a href="http://www.facebook.com/sharer.php?u=https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn" class="fa fa-facebook" target="_blank"></a>
	<a href="http://www.linkedin.com/shareArticle?mini=true&url=https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn&summary=&source=Analytics%20in%20HR" class="fa fa-linkedin" target="_blank"></a>
	<a href="https://www.scoop.it/login?redirectUrl=https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn" class="fa fa-scoopit" target="_blank">it!</a>
	<a href="http://plus.google.com/share?url=https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn" class="fa fa-google" target="_blank"> +</a>
	<a href="mailto:?subject=Check out this post&amp;body=Check out this post https://www.analyticsinhr.com/blog/tutorial-people-analytics-r-employee-churn" class="fa fa-envelope" target="_blank"></a></div><div>&nbsp;</div><div data-post-id='11259' class='insert-page insert-page-11259 ' id=""><style type="text/css" data-type="vc_custom-css">.vc_learn_more_bgcolor {
    background-color: #1ebbf0;
}</style><style type="text/css" data-type="vc_shortcodes-custom-css">.vc_custom_1542895150625{padding-top: 50px !important;padding-right: 100px !important;padding-bottom: 50px !important;padding-left: 100px !important;}.vc_custom_1528124103699{margin-right: 25px !important;margin-left: 25px !important;background-color: #ffffff !important;border-radius: 5px !important;}.vc_custom_1528124107985{margin-right: 25px !important;margin-left: 25px !important;background-color: #ffffff !important;border-radius: 5px !important;}.vc_custom_1528124116783{margin-right: 25px !important;margin-left: 25px !important;background-color: #ffffff !important;border-radius: 5px !important;}</style><div class="vc_row wpb_row vc_row-fluid"><div class="wpb_column vc_column_container vc_col-sm-4"><div class="vc_column-inner "><div class="wpb_wrapper"></div></div></div><div class="wpb_column vc_column_container vc_col-sm-4"><div class="vc_column-inner "><div class="wpb_wrapper">
	<div class="wpb_text_column wpb_content_element " >
		<div class="wpb_wrapper">
			<h4 class="join-conversation">Want to learn more?</h4>
<div class="join-conversation">
<div></div>
</div>

		</div>
	</div>
</div></div></div><div class="wpb_column vc_column_container vc_col-sm-4"><div class="vc_column-inner "><div class="wpb_wrapper"></div></div></div></div><div data-vc-full-width="true" data-vc-full-width-init="false" data-vc-stretch-content="true" class="vc_row wpb_row vc_row-fluid vc_learn_more_bgcolor vc_custom_1542895150625 vc_column-gap-35 vc_row-o-equal-height vc_row-flex"><div class="wpb_column vc_column_container vc_col-sm-4 vc_col-has-fill"><div class="vc_column-inner vc_custom_1528124103699"><div class="wpb_wrapper"><div class="vc_empty_space"   style="height: 30px" ><span class="vc_empty_space_inner"></span></div>

	<div  class="wpb_single_image wpb_content_element vc_align_center">
		
		<figure class="wpb_wrapper vc_figure">
			<div class="vc_single_image-wrapper   vc_box_border_grey"><img class="vc_single_image-img " src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/blog-02.png" width="180" height="180" alt="AIHR Blog icon" title="AIHR Blog icon"  data-dt-location="https://www.analyticsinhr.com/blog-02/" /></div>
		</figure>
	</div>

	<div class="wpb_text_column wpb_content_element " >
		<div class="wpb_wrapper">
			<h4 style="text-align: center;">Blog</h4>
<p style="text-align: center;">We provide the most knowledgeable content</p>

		</div>
	</div>
<div class=" ubtn-ctn-center "><a class="ubtn-link ult-adjust-bottom-margin ubtn-center ubtn-normal " href="/blog?utm_source=aihrblog&utm_medium=middle-post&utm_campaign=inbound-blog&utm_content=blog-icon" ><button type="button" id="ubtn-1200"  class="ubtn ult-adjust-bottom-margin ult-responsive ubtn-normal ubtn-no-hover-bg  none  ubtn-center   tooltip-5c1f51b5be704"  data-hover="" data-border-color="#4ea9db" data-bg="#ffffff" data-hover-bg="" data-border-hover="" data-shadow-hover="" data-shadow-click="none" data-shadow="" data-shd-shadow=""  data-ultimate-target='#ubtn-1200'  data-responsive-json-new='{"font-size":"desktop:14px;","line-height":""}'  style="font-weight:normal;border-radius:8px;border-width:1px;border-color:#4ea9db;border-style:solid;background: #ffffff;color: #4ea9db;"><span class="ubtn-hover" style="background-color:"></span><span class="ubtn-data ubtn-text " >See More</span></button></a></div></div></div></div><div class="wpb_column vc_column_container vc_col-sm-4 vc_col-has-fill"><div class="vc_column-inner vc_custom_1528124107985"><div class="wpb_wrapper"><div class="vc_empty_space"   style="height: 30px" ><span class="vc_empty_space_inner"></span></div>

	<div  class="wpb_single_image wpb_content_element vc_align_center   margin-center-image">
		
		<figure class="wpb_wrapper vc_figure">
			<div class="vc_single_image-wrapper   vc_box_border_grey"><img class="vc_single_image-img " src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/academy-01.png" width="180" height="180" alt="AIHR Academy icon" title="AIHR Academy icon"  data-dt-location="https://www.analyticsinhr.com/academy-01/" /></div>
		</figure>
	</div>

	<div class="wpb_text_column wpb_content_element " >
		<div class="wpb_wrapper">
			<h4 style="text-align: center;">Academy</h4>
<p style="text-align: center;">We provide the most comprehensive courses</p>

		</div>
	</div>
<div class=" ubtn-ctn-center "><a class="ubtn-link ult-adjust-bottom-margin ubtn-center ubtn-normal " href="https://www.hranalyticsacademy.com/?utm_source=aihrblog&utm_medium=middle-post&utm_campaign=inbound-blog&utm_content=academy-icon" target="_blank" rel="noopener" ><button type="button" id="ubtn-6665"  class="ubtn ult-adjust-bottom-margin ult-responsive ubtn-normal ubtn-no-hover-bg  none  ubtn-center   tooltip-5c1f51b5bf52c"  data-hover="" data-border-color="#f9a21e" data-bg="#f9a21e" data-hover-bg="" data-border-hover="" data-shadow-hover="" data-shadow-click="none" data-shadow="" data-shd-shadow=""  data-ultimate-target='#ubtn-6665'  data-responsive-json-new='{"font-size":"desktop:14px;","line-height":""}'  style="font-weight:normal;border-radius:8px;border-width:1px;border-color:#f9a21e;border-style:solid;background: #f9a21e;color: #ffffff;"><span class="ubtn-hover" style="background-color:"></span><span class="ubtn-data ubtn-text " >See More</span></button></a></div></div></div></div><div class="wpb_column vc_column_container vc_col-sm-4 vc_col-has-fill"><div class="vc_column-inner vc_custom_1528124116783"><div class="wpb_wrapper"><div class="vc_empty_space"   style="height: 30px" ><span class="vc_empty_space_inner"></span></div>

	<div  class="wpb_single_image wpb_content_element vc_align_center">
		
		<figure class="wpb_wrapper vc_figure">
			<div class="vc_single_image-wrapper   vc_box_border_grey"><img class="vc_single_image-img " src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/community-03-180x180.png" width="180" height="180" alt="AIHR Community icon" title="AIHR Community icon"  data-dt-location="https://www.analyticsinhr.com/community-03/" /></div>
		</figure>
	</div>

	<div class="wpb_text_column wpb_content_element " >
		<div class="wpb_wrapper">
			<h4 style="text-align: center;">Community</h4>
<p style="text-align: center;">We&#8217;re excited to announce the upcoming Forum</p>

		</div>
	</div>
<div class=" ubtn-ctn-center "><a class="ubtn-link ult-adjust-bottom-margin ubtn-center ubtn-normal " href="/community?utm_source=aihrblog&utm_medium=middle-post&utm_campaign=inbound-blog&utm_content=community-icon" ><button type="button" id="ubtn-3154"  class="ubtn ult-adjust-bottom-margin ult-responsive ubtn-normal ubtn-no-hover-bg  none  ubtn-center   tooltip-5c1f51b5c02a7"  data-hover="" data-border-color="#4ea9db" data-bg="#ffffff" data-hover-bg="" data-border-hover="" data-shadow-hover="" data-shadow-click="none" data-shadow="" data-shd-shadow=""  data-ultimate-target='#ubtn-3154'  data-responsive-json-new='{"font-size":"desktop:14px;","line-height":""}'  style="font-weight:normal;border-radius:8px;border-width:1px;border-color:#4ea9db;border-style:solid;background: #ffffff;color: #4ea9db;"><span class="ubtn-hover" style="background-color:"></span><span class="ubtn-data ubtn-text " >See More</span></button></a></div></div></div></div></div><div class="vc_row-full-width vc_clearfix"></div><!-- Row Backgrounds --><div class="upb_color" data-bg-override="0" data-bg-color="#1ebbf0" data-fadeout="" data-fadeout-percentage="30" data-parallax-content="" data-parallax-content-sense="30" data-row-effect-mobile-disable="true" data-img-parallax-mobile-disable="true" data-rtl="false"  data-custom-vc-row=""  data-vc="5.4.2"  data-is_old_vc=""  data-theme-support=""   data-overlay="false" data-overlay-color="" data-overlay-pattern="" data-overlay-pattern-opacity="" data-overlay-pattern-size=""    ></div><div class="vc_row wpb_row vc_row-fluid"><div class="wpb_column vc_column_container vc_col-sm-12"><div class="vc_column-inner "><div class="wpb_wrapper"><div class="ult-spacer spacer-5c1f51b5c08d4" data-id="5c1f51b5c08d4" data-height="20" data-height-mobile="20" data-height-tab="20" data-height-tab-portrait="" data-height-mobile-landscape="" style="clear:both;display:block;"></div></div></div></div></div>
</div><div class="single-related-posts"><h3>Related Posts</h3><section class="items-grid"><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/hr-system-design-leads-high-quality-data/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/10/Smart-HR-System-Design-for-High-Quality-Data-185x134.jpg" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/10/Smart-HR-System-Design-for-High-Quality-Data-185x134.jpg 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2017/10/Smart-HR-System-Design-for-High-Quality-Data-370x268.jpg 370w" width="185" height="134"  alt="Smart HR System Design for High Quality Data" /></a></div><a href="https://www.analyticsinhr.com/blog/hr-system-design-leads-high-quality-data/">How Smart HR System Design Leads to High-Quality Data: 5 Tips</a><br /><time class="text-secondary" datetime="2018-12-17T10:00:39+00:00">December 17, 2018</time></div></article></div><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/statistics-in-hr-course/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/Statstics-in-HR-185x134.jpg" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/Statstics-in-HR-185x134.jpg 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/Statstics-in-HR-370x268.jpg 370w" width="185" height="134"  alt="Statistics in HR" /></a></div><a href="https://www.analyticsinhr.com/blog/statistics-in-hr-course/">People Analytics: Why Statistics Is Not a Waste of Time</a><br /><time class="text-secondary" datetime="2018-12-11T12:45:59+00:00">December 11, 2018</time></div></article></div><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/result-trumps-recipe-bake-it-til-you-make-it/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/bake-it-till-you-make-it100kb-185x134.jpg" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/bake-it-till-you-make-it100kb-185x134.jpg 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/12/bake-it-till-you-make-it100kb-370x268.jpg 370w" width="185" height="134"  alt="" /></a></div><a href="https://www.analyticsinhr.com/blog/result-trumps-recipe-bake-it-til-you-make-it/">Result Trumps Recipe: Bake it ‘til you Make it</a><br /><time class="text-secondary" datetime="2018-12-03T15:03:55+00:00">December 3, 2018</time></div></article></div><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/people-analytics-for-smes/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/3pillars-for-sme-185x134.png" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/3pillars-for-sme-185x134.png 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/3pillars-for-sme-370x268.png 370w" width="185" height="134"  alt="" /></a></div><a href="https://www.analyticsinhr.com/blog/people-analytics-for-smes/">People analytics for SMEs</a><br /><time class="text-secondary" datetime="2018-11-26T15:42:01+00:00">November 26, 2018</time></div></article></div><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/people-analytics-ethical-considerations/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/AdobeStock_202960059-Converted-185x134.png" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/AdobeStock_202960059-Converted-185x134.png 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/AdobeStock_202960059-Converted-370x268.png 370w" width="185" height="134"  alt="" /></a></div><a href="https://www.analyticsinhr.com/blog/people-analytics-ethical-considerations/">People Analytics: Ethical Considerations</a><br /><time class="text-secondary" datetime="2018-11-19T13:41:38+00:00">November 19, 2018</time></div></article></div><div class=" related-item"><article class="post-format-standard"><div class="post-content"><div class="mini-post-img"><a class="alignleft post-rollover layzr-bg" href="https://www.analyticsinhr.com/blog/a-beginners-guide-to-continuous-improvement-in-hr/" ><img class="lazy-load preload-me" src="data:image/svg+xml,%3Csvg%20xmlns%3D&#39;http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg&#39;%20viewBox%3D&#39;0%200%20185%20134&#39;%2F%3E" data-src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/2413-FINAL-185x134.png" data-srcset="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/2413-FINAL-185x134.png 185w, https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/2413-FINAL-370x268.png 370w" width="185" height="134"  alt="" /></a></div><a href="https://www.analyticsinhr.com/blog/a-beginners-guide-to-continuous-improvement-in-hr/">A beginner’s guide to Continuous Improvement in HR</a><br /><time class="text-secondary" datetime="2018-11-12T17:33:14+00:00">November 12, 2018</time></div></article></div></section></div><div data-post-id='11257' class='insert-page insert-page-11257 ' id=""><style type="text/css" data-type="vc_custom-css">.browse-courses {
    background-size: cover;
    background-repeat: no-repeat;
    background-color: rgba(0, 0, 0, 0);
    background-image: url(https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com//wp-content/uploads/2018/06/Mr.-Medium.jpg);
    background-attachment: scroll;
    padding-top: 80px !important;
    padding-bottom: 80px !important;
}</style><div data-vc-full-width="true" data-vc-full-width-init="false" class="vc_row wpb_row vc_row-fluid browse-courses"><div class="wpb_column vc_column_container vc_col-sm-12"><div class="vc_column-inner "><div class="wpb_wrapper"><div class="ult-spacer spacer-5c1f51b5d6e5b" data-id="5c1f51b5d6e5b" data-height="50" data-height-mobile="50" data-height-tab="50" data-height-tab-portrait="" data-height-mobile-landscape="" style="clear:both;display:block;"></div>
	<div class="wpb_text_column wpb_content_element " >
		<div class="wpb_wrapper">
			<h2 style="text-align: center;"><span style="color: #ffffff;">Welcome to the HR</span><br />
<span style="color: #ffffff;">Analytics Academy</span></h2>

		</div>
	</div>
<div class=" ubtn-ctn-center "><a class="ubtn-link ult-adjust-bottom-margin ubtn-center ubtn-normal " href="https://www.hranalyticsacademy.com/?utm_source=aihrblog&utm_medium=bottom-post&utm_campaign=inbound-blog&utm_content=student-banner" ><button type="button" id="ubtn-9547"  class="ubtn ult-adjust-bottom-margin ult-responsive ubtn-normal ubtn-no-hover-bg  none  ubtn-center   tooltip-5c1f51b5d70b7"  data-hover="" data-border-color="#f9a21e" data-bg="#f9a21e" data-hover-bg="" data-border-hover="" data-shadow-hover="" data-shadow-click="none" data-shadow="" data-shd-shadow=""  data-ultimate-target='#ubtn-9547'  data-responsive-json-new='{"font-size":"","line-height":""}'  style="font-weight:normal;border-radius:5px;border-width:1px;border-color:#f9a21e;border-style:solid;background: #f9a21e;color: #ffffff;"><span class="ubtn-hover" style="background-color:"></span><span class="ubtn-data ubtn-text " >Browse courses</span></button></a></div><div class="ult-spacer spacer-5c1f51b5d71e5" data-id="5c1f51b5d71e5" data-height="50" data-height-mobile="50" data-height-tab="50" data-height-tab-portrait="" data-height-mobile-landscape="" style="clear:both;display:block;"></div></div></div></div></div><div class="vc_row-full-width vc_clearfix"></div><!-- Row Backgrounds --><div class="upb_bg_img" data-ultimate-bg="url(https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/Mr.-Medium.jpg)" data-image-id="id^11330|url^https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/Mr.-Medium.jpg|caption^null|alt^null|title^AIHR Academy CTA background|description^null" data-ultimate-bg-style="vcpb-default" data-bg-img-repeat="repeat" data-bg-img-size="cover" data-bg-img-position="" data-parallx_sense="30" data-bg-override="0" data-bg_img_attach="scroll" data-upb-overlay-color="" data-upb-bg-animation="" data-fadeout="" data-bg-animation="left-animation" data-bg-animation-type="h" data-animation-repeat="repeat" data-fadeout-percentage="30" data-parallax-content="" data-parallax-content-sense="30" data-row-effect-mobile-disable="true" data-img-parallax-mobile-disable="true" data-rtl="false"  data-custom-vc-row=""  data-vc="5.4.2"  data-is_old_vc=""  data-theme-support=""   data-overlay="false" data-overlay-color="" data-overlay-pattern="" data-overlay-pattern-opacity="" data-overlay-pattern-size=""    ></div>
</div>
</article>
			
						
		</div><!-- #content -->
		</div><!-- #absolute -->
		</div><!-- #relative -->

		
	


			</div><!-- .wf-container -->
		</div><!-- .wf-wrap -->
	</div><!-- #main -->

	

	
	<!-- !Footer -->
	<footer id="footer" class="footer solid-bg">

		
			<div class="wf-wrap">
				<div class="wf-container-footer">
					<div class="wf-container">
						<section id="presscore-contact-info-widget-2" class="widget widget_presscore-contact-info-widget wf-cell wf-1-6"><div class="widget-info"><a href="https://www.analyticsinhr.com/"><img src="https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/uploads/2018/06/AIHR-Blog-Academy-footer-Logo-2018-250px.png" width="125px"></a></div><div class="soc-ico"><p class="assistive-text">Find us on:</p><a title="Facebook" href="https://www.facebook.com/analyticsinhr/" target="_blank" class="facebook"><span class="soc-font-icon"></span><span class="screen-reader-text">Facebook</span></a><a title="Twitter" href="https://twitter.com/AnalyticsinHR" target="_blank" class="twitter"><span class="soc-font-icon"></span><span class="screen-reader-text">Twitter</span></a><a title="Linkedin" href="https://www.linkedin.com/company/analytics-in-hr" target="_blank" class="linkedin"><span class="soc-font-icon"></span><span class="screen-reader-text">Linkedin</span></a></div></section><section id="presscore-custom-menu-1-2" class="widget widget_presscore-custom-menu-1 wf-cell wf-1-6"><div class="widget-title">AIHR</div><ul class="custom-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11268 first"><a href="https://www.hranalyticsacademy.com/?utm_source=aihrblog&amp;utm_medium=blog&amp;utm_campaign=inbound-blog&amp;utm_content=footer">Academy</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11269"><a href="/blog/">Blog</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11270"><a href="/community/?utm_source=aihrblog&amp;utm_medium=blog&amp;utm_campaign=inbound-blog&amp;utm_content=footer">Community</a></li></ul></section><section id="presscore-custom-menu-1-3" class="widget widget_presscore-custom-menu-1 wf-cell wf-1-6"><div class="widget-title">RESOURCES</div><ul class="custom-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11271 first"><a href="/hr-analytics-webinars/">Webinar</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11272"><a href="/people-analytics-resources-repository/">Repository</a></li></ul></section><section id="presscore-custom-menu-1-4" class="widget widget_presscore-custom-menu-1 wf-cell wf-1-6"><div class="widget-title">COMPANY</div><ul class="custom-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11273 first"><a href="/about-us/">About</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11275"><a href="/about-us/#team">Team</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11274"><a href="/privacy/">Privacy Policy</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11276"><a href="/contact/">Contact Us</a></li></ul></section><section id="presscore-custom-menu-1-5" class="widget widget_presscore-custom-menu-1 wf-cell wf-1-6"><div class="widget-title">FOLLOW</div><ul class="custom-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11278 first"><a href="https://www.linkedin.com/company/analytics-in-hr">LinkedIn</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11279"><a href="https://www.facebook.com/analyticsinhr/">Facebook</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11277"><a href="https://twitter.com/AnalyticsinHR">Twitter</a></li></ul></section><section id="presscore-custom-menu-1-6" class="widget widget_presscore-custom-menu-1 wf-cell wf-1-6"><div class="widget-title">BOOKS</div><ul class="custom-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11280 first"><a href="/hr-analytics-books/?utm_source=aihrblog&amp;utm_medium=blog&amp;utm_campaign=inbound-blog&amp;utm_content=footer">The Basic Principles of People Analytics</a></li></ul></section>					</div><!-- .wf-container -->
				</div><!-- .wf-container-footer -->
			</div><!-- .wf-wrap -->

		
<!-- !Bottom-bar -->
<div id="bottom-bar" class="solid-bg logo-left" role="contentinfo">
	<div class="wf-wrap">
		<div class="wf-container-bottom">

				
				<div class="wf-float-right">

					
				

				
					<div class="bottom-text-block">

						<p>© Analytics in HR B.V. 2018. All rights reserved. - <a href="/privacy/" target="_blank">View</a> our privacy policy</p>

					</div>

								</div>

		</div><!-- .wf-container-bottom -->
	</div><!-- .wf-wrap -->
</div><!-- #bottom-bar -->
	</footer><!-- #footer -->


	<a href="#" class="scroll-top"><span class="screen-reader-text">Go to Top</span></a>

</div><!-- #page -->

<script async>(function(s,u,m,o,j,v){j=u.createElement(m);v=u.getElementsByTagName(m)[0];j.async=1;j.src=o;j.dataset.sumoSiteId='cc1b6e032c5af475e2d3520b34dd6069635dc9592e81dbe35cc451af81036cd1';j.dataset.sumoPlatform='wordpress';v.parentNode.insertBefore(j,v)})(window,document,'script','//load.sumo.com/');</script>    <script type="application/javascript">
      var ajaxurl = "https://www.analyticsinhr.com/wp-admin/admin-ajax.php";

      function sumo_add_woocommerce_coupon(code) {
        jQuery.post(ajaxurl, {
          action: 'sumo_add_woocommerce_coupon',
          code: code,
        });
      }

      function sumo_remove_woocommerce_coupon(code) {
        jQuery.post(ajaxurl, {
          action: 'sumo_remove_woocommerce_coupon',
          code: code,
        });
      }

      function sumo_get_woocommerce_cart_subtotal(callback) {
        jQuery.ajax({
          method: 'POST',
          url: ajaxurl,
          dataType: 'html',
          data: {
            action: 'sumo_get_woocommerce_cart_subtotal',
          },
          success: function(subtotal) {
            return callback(null, subtotal);
          },
          error: function(err) {
            return callback(err, 0);
          }
        });
      }
    </script>
    <div id="wtr-comments-end" class="at-footer"></div><link rel='stylesheet' id='js_composer_front-css'  href='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/js_composer/assets/css/js_composer.min.css' type='text/css' media='all' />
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/js/main.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var click_object = {"ajax_url":"https:\/\/www.analyticsinhr.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/adrotate-pro/library/jquery.adrotate.clicktracker.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/www.analyticsinhr.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/contact-form-7/includes/js/scripts.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"aihr-blog"};
/* ]]> */
</script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/disqus-comment-system/public/js/comment_count.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.16"},"disqusIdentifier":"5698 https:\/\/www.analyticsinhr.com\/?p=5698","disqusShortname":"aihr-blog","disqusTitle":"A Tutorial on People Analytics Using R \u2013 Employee Churn","disqusUrl":"https:\/\/www.analyticsinhr.com\/blog\/tutorial-people-analytics-r-employee-churn\/","postId":"5698"};
/* ]]> */
</script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/worth-the-read/js/wtr.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/themes/dt-the7/js/post-type.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-includes/js/wp-embed.min.js'></script>
<script type='text/javascript' defer='defer' src='https://3jd8gl2iires146kaw2hgqy9-wpengine.netdna-ssl.com/wp-content/plugins/js_composer/assets/js/dist/js_composer_front.min.js'></script>

<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
 
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
 
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-79007373-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79007373-1');
</script>
<!-- End Google Analytics Tag Code -->


<!-- LinkedIn Insight Tag Code -->
<script type="text/javascript">
_linkedin_data_partner_id = "35411";
</script><script type="text/javascript">
(function(){var s = document.getElementsByTagName("script")[0];
var b = document.createElement("script");
b.type = "text/javascript";b.async = true;
b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
s.parentNode.insertBefore(b, s);})();
</script>
<noscript>
<img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=35411&fmt=gif" />
</noscript>
<!-- End of LinkedIn Insight Tag Code -->


<!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1811642149162286');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1811642149162286&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->


<!-- ActiveCampaign Pixel Code -->
<script type="text/javascript">
	// Set to false if opt-in required
	var trackByDefault = true;

	function acEnableTracking() {
		var expiration = new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 30);
		document.cookie = "ac_enable_tracking=1; expires= " + expiration + "; path=/";
		acTrackVisit();
	}

	function acTrackVisit() {
		var trackcmp_email = '';
		var trackcmp = document.createElement("script");
		trackcmp.async = true;
		trackcmp.type = 'text/javascript';
		trackcmp.src = '//trackcmp.net/visit?actid=223476493&e='+encodeURIComponent(trackcmp_email)+'&r='+encodeURIComponent(document.referrer)+'&u='+encodeURIComponent(window.location.href);
		var trackcmp_s = document.getElementsByTagName("script");
		if (trackcmp_s.length) {
			trackcmp_s[0].parentNode.appendChild(trackcmp);
		} else {
			var trackcmp_h = document.getElementsByTagName("head");
			trackcmp_h.length && trackcmp_h[0].appendChild(trackcmp);
		}
	}

	if (trackByDefault || /(^|; )ac_enable_tracking=([^;]+)/.test(document.cookie)) {
		acEnableTracking();
	}
</script>
<!-- End ActiveCampaign Pixel Code -->

<!-- Twitter universal website tag code -->
<script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
// Insert Twitter Pixel ID and Standard Event data below
twq('init','o0icc');
twq('track','PageView');
</script>
<!-- End Twitter universal website tag code -->




</body>
</html>
